!function(f){"use strict";var s={init:function(){this.admin_settings_tab(),this.mb_add_seat_map(),this.mb_select2(),this.mb_colorpicker(),this.mb_datetimepicker(),this.mb_create_taxonomy_reload(),this.mb_change_city(),this.mb_coupons(),this.mb_upload_image(),this.mb_remove_upload_image(),this.mb_create_booking(),this.mb_showtimes_filter(),this.mb_showtimes_action(),this.mb_create_send_tickets(),this.mb_tickets_action(),this.mb_bookings_action()},admin_settings_tab:function(){var o=new URLSearchParams(window.location.search);function a(){var t,a=f(document).find(".ova_mb_settings_wrapper .ova_mb_wrapper_content #tax_fee"),e=f(document).find(".ova_mb_settings_wrapper .ova_mb_wrapper_content #checkout");"yes"==a.find("#enable_tax").val()?(a.find("#type_tax").closest("tr").show(),a.find("#prices_include_tax").closest("tr").show(),"percent"==(t=a.find("#type_tax").val())?a.find("#pecent_tax").closest("tr").show():a.find("#pecent_tax").closest("tr").hide(),"amount"==t?a.find("#amount_tax").closest("tr").show():a.find("#amount_tax").closest("tr").hide()):(a.find("#type_tax").closest("tr").hide(),a.find("#pecent_tax").closest("tr").hide(),a.find("#amount_tax").closest("tr").hide(),a.find("#prices_include_tax").closest("tr").hide()),"yes"==a.find("#enable_ticket_fee").val()?(a.find("#type_ticket_fee").closest("tr").show(),"percent"==(t=a.find("#type_ticket_fee").val())?a.find("#pecent_ticket_fee").closest("tr").show():a.find("#pecent_ticket_fee").closest("tr").hide(),"amount"==t?a.find("#amount_ticket_fee").closest("tr").show():a.find("#amount_ticket_fee").closest("tr").hide()):(a.find("#type_ticket_fee").closest("tr").hide(),a.find("#pecent_ticket_fee").closest("tr").hide(),a.find("#amount_ticket_fee").closest("tr").hide()),"yes"==e.find("#enable_holding_ticket").val()?(e.find("#holding_per_seconds").closest("tr").show(),e.find("#max_time_complete_payment").closest("tr").show()):(e.find("#holding_per_seconds").closest("tr").hide(),e.find("#max_time_complete_payment").closest("tr").hide());e=f(document).find(".ova_mb_settings_wrapper .ova_mb_wrapper_content #mail");"yes"==e.find("#enable_send_booking_email").val()?(e.find("#mail_new_booking_sendmail").closest("tr").show(),e.find("#mail_new_recipient").closest("tr").show(),e.find("#mail_new_subject").closest("tr").show(),e.find("#mail_new_from_name").closest("tr").show(),e.find("#mail_new_admin_email").closest("tr").show(),e.find("#wp-ova_mb_setting_mail_mail_new_template-wrap").closest("tr").show()):(e.find("#mail_new_booking_sendmail").closest("tr").hide(),e.find("#mail_new_recipient").closest("tr").hide(),e.find("#mail_new_subject").closest("tr").hide(),e.find("#mail_new_from_name").closest("tr").hide(),e.find("#mail_new_admin_email").closest("tr").hide(),e.find("#wp-ova_mb_setting_mail_mail_new_template-wrap").closest("tr").hide()),"yes"==e.find("#enable_remind_mail").val()?(e.find("#remind_mail_before_xday").closest("tr").show(),e.find("#remind_mail_send_per_seconds").closest("tr").show(),e.find("#remind_mail_subject").closest("tr").show(),e.find("#remind_mail_from_name").closest("tr").show(),e.find("#remind_mail_admin_email").closest("tr").show(),e.find("#wp-ova_mb_setting_mail_remind_mail_template-wrap").closest("tr").show()):(e.find("#remind_mail_before_xday").closest("tr").hide(),e.find("#remind_mail_send_per_seconds").closest("tr").hide(),e.find("#remind_mail_subject").closest("tr").hide(),e.find("#remind_mail_from_name").closest("tr").hide(),e.find("#remind_mail_admin_email").closest("tr").hide(),e.find("#wp-ova_mb_setting_mail_remind_mail_template-wrap").closest("tr").hide()),"yes"==e.find("#enable_cancel_email").val()?(e.find("#cancel_email_subject").closest("tr").show(),e.find("#cancel_mail_from_name").closest("tr").show(),e.find("#cancel_mail_admin_email").closest("tr").show(),e.find("#wp-ova_mb_setting_mail_cancel_mail_template-wrap").closest("tr").show()):(e.find("#cancel_email_subject").closest("tr").hide(),e.find("#cancel_mail_from_name").closest("tr").hide(),e.find("#cancel_mail_admin_email").closest("tr").hide(),e.find("#wp-ova_mb_setting_mail_cancel_mail_template-wrap").closest("tr").hide())}f(document).on("click",".ova_mb_settings_wrapper .nav-tab-wrapper a",function(t){t.preventDefault();var a=f(this),e=a.closest(".ova_mb_settings_wrapper").find(".ova_mb_wrapper_content").data("edit-url"),t=a.data("tab");o.set("tab",t),o.delete("group"),window.history.replaceState(null,null,"?"+o.toString()),f(".ova_mb_settings_wrapper .nav-tab-wrapper a").removeClass("nav-tab-active"),a.addClass("nav-tab-active"),f(".ova_mb_settings_wrapper .ova_mb_wrapper_content > div").hide(),f(".ova_mb_settings_wrapper .ova_mb_wrapper_content #"+t).fadeIn(),f(".ova_mb_settings_wrapper .ova_mb_wrapper_content #"+t).find(".mb_tab_group").removeClass("active"),f(".ova_mb_settings_wrapper .ova_mb_wrapper_content #"+t).find(".mb_tab_group_content").removeClass("active"),f(".ova_mb_settings_wrapper .ova_mb_wrapper_content #"+t).find(".mb_tab_group").each(function(t){0==t&&(f(this).addClass("active"),t=f(this).attr("id"),f(this).closest(".mb-tab").find('.mb_tab_group_content[data-tab-id="'+t+'"]').addClass("active"))});t=e+"?post_type=movie&page=ova_mb_setting&settings-updated=true&tab="+t;a.closest('form[name="ova_mb_options"]').find('input[name="_wp_http_referer"]').val(t)}),f(document).on("click",".ova_mb_settings_wrapper .ova_mb_wrapper_content .mb_tab_group",function(t){t.preventDefault();var a=f(this),e=a.closest(".ova_mb_settings_wrapper").find(".ova_mb_wrapper_content").data("edit-url"),i=a.attr("id"),t=a.closest(".mb-tab").attr("id");o.set("tab",t),o.set("group",i),window.history.replaceState(null,null,"?"+o.toString()),a.closest(".mb-tab").find(".mb_tab_group").removeClass("active"),a.closest(".mb-tab").find(".mb_tab_group_content").removeClass("active"),a.addClass("active"),a.closest(".mb-tab").find('.mb_tab_group_content[data-tab-id="'+i+'"]').addClass("active");i=e+"?post_type=movie&page=ova_mb_setting&tab="+t+"&group="+i+"&settings-updated=true";a.closest('form[name="ova_mb_options"]').find('input[name="_wp_http_referer"]').val(i)}),f(document).on("change",'form[name="ova_mb_options"]',function(t){a()}),a()},mb_add_seat_map:function(){function e(){f(document).on("click",".remove_seat_map",function(t){t.preventDefault(),f(this).closest(".item-seat").remove(),i()})}function i(){var t=0;f(".mb_room_detail .item-seat").each(function(){f(this).find(".seat-map-id").attr("name","ova_mb_room_seats["+t+"][id]"),f(this).find(".seat-map-price").attr("name","ova_mb_room_seats["+t+"][price]"),f(this).find(".seat-map-type").attr("name","ova_mb_room_seats["+t+"][type]"),f(this).find(".seat-map-description").attr("name","ova_mb_room_seats["+t+"][description]"),f(this).find(".seat-map-color").attr("name","ova_mb_room_seats["+t+"][color]"),t++})}function o(){f(document).on("click",".remove_area_map",function(t){t.preventDefault(),f(this).closest(".item-area").remove(),n()})}function n(){var t=0;f(".mb_room_detail .item-area").each(function(){f(this).find(".area-map-id").attr("name","ova_mb_room_areas["+t+"][id]"),f(this).find(".area-map-price").attr("name","ova_mb_room_areas["+t+"][price]"),f(this).find(".area-map-qty").attr("name","ova_mb_room_areas["+t+"][qty]"),f(this).find(".area-map-type").attr("name","ova_mb_room_areas["+t+"][type]"),f(this).find(".area-map-description").attr("name","ova_mb_room_areas["+t+"][description]"),f(this).find(".area-map-color").attr("name","ova_mb_room_areas["+t+"][color]"),t++})}f('form[name="post"] #poststuff input[type="submit"]').on("click",function(t){var a,e,i,o,n;"room"===f(this).closest('form[name="post"]').find('input[name="post_type"]').val()&&(a=f(this).closest('form[name="post"]').find('.mb_room_detail .ova_row input[name="ova_mb_room_code"]').val(),e=f(this).closest('form[name="post"]').find('.mb_room_detail .ova_row select[name="ova_mb_room_type_id"]').val(),i=f(this).closest('form[name="post"]').find('.mb_room_detail .ova_row input[name="ova_mb_room_shortcode_img_map"]').val(),o=f(this).closest('form[name="post"]').find(".mb_room_detail .ova_row .item-seat"),n=f(this).closest('form[name="post"]').find(".mb_room_detail .ova_row .item-area"),o.length<=0&&n.length<=0&&a&&e&&i&&(f(this).closest('form[name="post"]').find(".mb_room_detail .btn_add_seat_map .add_seat_map").click(),t.preventDefault()))}),f(".mb_room_detail .add_seat_map").on("click",function(t){t.preventDefault();var a=f(this);a.closest(".btn_add_seat_map").find(".mb-loading").show();t=f(document).find(".mb_room_detail .item-seat").length;f.post(ajax_object.ajax_url,{action:"mb_add_seat_map",data:{ajax_nonce:ajax_object.ajax_nonce,count_seat:t}},function(t){a.closest(".btn_add_seat_map").find(".mb-loading").hide(),f(".mb_room_detail .wrap_seat_map").append(t),s.mb_colorpicker(),e(),i()})}),e(),f(".mb_room_detail .add_area_map").on("click",function(t){t.preventDefault();var a=f(this);a.closest(".btn_add_seat_map").find(".mb-loading").show();t=f(document).find(".mb_room_detail .item-area").length;f.post(ajax_object.ajax_url,{action:"mb_add_area_map",data:{ajax_nonce:ajax_object.ajax_nonce,count_area:t}},function(t){a.closest(".btn_add_area_map").find(".mb-loading").hide(),f(".mb_room_detail .wrap_area_map").append(t),s.mb_colorpicker(),o(),n()})}),o()},mb_select2:function(){var t;0<f("select.mb_select2").length&&(t=f("select.mb_select2").data("placeholder"),f("select.mb_select2").select2({placeholder:t,allowClear:!0,width:"element"}))},mb_colorpicker:function(){0<f(".mb-colorpicker").length&&f(".mb-colorpicker").wpColorPicker()},mb_datetimepicker:function(){if(0<f("#mb_datetimepicker_config").length){var e,i,t=f("#mb_datetimepicker_config"),a=t.data("language");switch(f.datetimepicker.setLocale(a=a||"en"),7==(e=(e=t.data("first-day"))||1)&&(e=0),i=(i=t.data("date-format"))||"Y-m-d"){case"d-m-Y":i="DD-MM-Y";break;case"m/d/Y":i="MM/DD/Y";break;case"Y-m-d":i="Y-MM-DD";break;case"Y/m/d":i="Y/MM/DD";break;default:i="DD-MM-Y"}var o=!(o=t.data("time-format"))||"H:i"==o?"HH:mm":"g:i a"==o?"hh:mm a":"g:i A"==o?"hh:mm A":"hh:mm",n=(n=t.data("time-step"))||15,s=(s=t.data("time-default"))||"00:00",_=new Date;f.datetimepicker.setDateFormatter({parseDate:function(t,a){a=moment(t,a);return!!a.isValid()&&a.toDate()},formatDate:function(t,a){return moment(t).format(a)}}),f("input.mb_datepicker").each(function(){var t={dayOfWeekStart:e,minDate:_,formatDate:i+" "+o,format:i+" "+o,formatTime:o,defaultTime:s,step:n,timepicker:!0,scrollMonth:!1,scrollInput:!1};f(this).datetimepicker(t)}),f("input.mb_datepicker_filter").each(function(){var t={dayOfWeekStart:e,formatDate:i+" "+o,format:i+" "+o,formatTime:o,defaultTime:s,step:n,timepicker:!0,scrollMonth:!1,scrollInput:!1};f(this).datetimepicker(t)}),f("input.from_date.mb_datepicker_filter").on("change",function(){var t=f(this).val(),a=f(this).closest(".mb-showtimes-filter").find('input[name="to"]');t&&f.post(ajax_object.ajax_url,{action:"mb_date_showtimes_filter",data:{ajax_nonce:ajax_object.ajax_nonce,from:t}},function(t){t&&a.val(t)})}),f("input.to_date.mb_datepicker_filter").on("click",function(){var t={dayOfWeekStart:e,formatDate:i+" "+o,format:i+" "+o,formatTime:o,defaultTime:s,step:n,timepicker:!0,scrollMonth:!1,scrollInput:!1},a=f(this).closest(".mb-showtimes-filter").find('input[name="from"]').val();a&&(t.minDate=a),f(this).datetimepicker(t)})}f(".datepicker-showtimes-filter .remove_date").on("click",function(t){t.preventDefault(),f(this).closest(".datepicker-showtimes-filter").find(".mb_datepicker_filter").val("")})},mb_create_taxonomy_reload:function(){f("#submit").on("click",function(){"movie_location"===f(this).closest("form#addtag").find('input[name="taxonomy"]').val()&&f(this).closest("form#addtag").find('select[name="parent"]').on("DOMSubtreeModified",function(){setTimeout(function(){window.location.reload()},300)})})},mb_change_city:function(){f('.mb_showtime_detail select[name="ova_mb_showtime_city_id"]').on("change",function(){var a=f(this),t=a.val();a.closest(".mb_showtime_detail").find('select[name="ova_mb_showtime_venue_id"]');a.closest(".mb_showtime_detail").find(".mb-loading").css("display","inline-block"),f.post(ajax_object.ajax_url,{action:"mb_change_city",data:{ajax_nonce:ajax_object.ajax_nonce,city_id:t}},function(t){a.closest(".mb_showtime_detail").find(".mb-loading").hide(),a.closest(".mb_showtime_detail").find(".mb_generate_venue").html("").append(t),s.mb_select2()})})},mb_coupons:function(){function e(){f(".mb_movie_coupons select.coupon_type").each(function(){var t=f(this);"percent"==t.val()&&t.closest(".coupons_item").find(".ova_row").has("input.coupon_percent").css("display","flex"),"amount"==t.val()&&t.closest(".coupons_item").find(".ova_row").has("input.coupon_amount").css("display","flex"),t.on("change",function(){"percent"==f(this).val()&&(t.closest(".coupons_item").find(".ova_row").has("input.coupon_percent").css("display","flex"),t.closest(".coupons_item").find(".ova_row").has("input.coupon_amount").hide()),"amount"==f(this).val()&&(t.closest(".coupons_item").find(".ova_row").has("input.coupon_amount").css("display","flex"),t.closest(".coupons_item").find(".ova_row").has("input.coupon_percent").hide())})})}function i(){var t=0;f(".mb_movie_coupons .coupons .coupons_item").each(function(){f(this).find(".coupon_code").attr("name","ova_mb_movie_coupons["+t+"][code]"),f(this).find(".coupon_start").attr("name","ova_mb_movie_coupons["+t+"][start]"),f(this).find(".coupon_end").attr("name","ova_mb_movie_coupons["+t+"][end]"),f(this).find(".coupon_type").attr("name","ova_mb_movie_coupons["+t+"][type]"),f(this).find(".coupon_percent").attr("name","ova_mb_movie_coupons["+t+"][percent]"),f(this).find(".coupon_amount").attr("name","ova_mb_movie_coupons["+t+"][amount]"),f(this).find(".coupon_quantity").attr("name","ova_mb_movie_coupons["+t+"][quantity]"),t++})}e(),f(".mb_movie_coupons .add_coupon").on("click",function(t){t.preventDefault();var a=f(this);a.closest(".btn_add_coupon").find(".mb-loading").show();t=a.closest(".mb_movie_coupons").find(".coupons .coupons_item").length;f.post(ajax_object.ajax_url,{action:"mb_add_coupon",data:{ajax_nonce:ajax_object.ajax_nonce,count_coupon:t}},function(t){a.closest(".btn_add_coupon").find(".mb-loading").hide(),a.closest(".mb_movie_coupons").find(".coupons").append(t),i(),e(),f(".mb_movie_coupons .coupons").on("click",".remove_coupon",function(t){t.preventDefault(),f(this).closest(".coupons_item").remove(),i()}),s.mb_datetimepicker()})})},mb_upload_image:function(){f(document).on("click","#mail .upload_image_btn",function(t){t.preventDefault();var a=f(this);return file_frame&&file_frame.close(),file_frame=wp.media.frames.file_frame=wp.media({multiple:!1}),file_frame.on("select",function(){file_frame.state().get("selection").map(function(t){(t=t.toJSON()).sizes.thumbnail?(a.closest(".mb-upload").find("img").attr("src",t.sizes.thumbnail.url),a.closest(".mb-upload").find("img").attr("alt",t.alt),a.closest(".mb-upload").find("#ticket_logo").val(t.id)):(a.closest(".mb-upload").find("img").attr("src",""),a.closest(".mb-upload").find("#ticket_logo").val(""))})}),file_frame.open(a),!1})},mb_remove_upload_image:function(){f(document).on("click","#mail .remove_image_btn",function(t){t.preventDefault();t=f(this);return 1==confirm("Are you sure?")&&(t.closest(".mb-upload").find("img").attr("src",""),t.closest(".mb-upload").find("#ticket_logo").val("")),!1})},mb_create_booking:function(){function l(){var t=f(".mb_booking_detail"),a=t.find(".mb_cart .cart-info"),t=t.find(".cart-discount");a.find(".cart-error").show(),a.find(".cart-item .seat").html(""),a.find(".cart-item .mb-price").html(""),a.find('input[name="ova_mb_booking_qty"]').val(0),a.find('input[name="ova_mb_booking_subtotal"]').val(0),a.find(".cart-area-item").html(""),a.find(".total-discount").hide(),a.find(".total-discount .mb-price").html(""),a.find('.total-discount input[name="ova_mb_booking_discount"]').val(0),a.find('.total-discount input[name="ova_mb_booking_discount_code"]').val(0),a.find('.total-discount input[name="ova_mb_booking_discount_type"]').val(""),a.find(".total-tax").hide(),a.find(".total-tax .mb-price").html(""),a.find('.total-tax input[name="ova_mb_booking_tax"]').val(""),a.find(".total-ticket-fee").hide(),a.find(".total-ticket-fee .mb-price").html(""),a.find('.total-ticket-fee input[name="ova_mb_booking_ticket_fee"]').val(""),a.find(".cart-total .mb-price").html(b(0)),a.find('.cart-total input[name="ova_mb_booking_total"]').val(0),t.find('input[name="add_discount_code"]').val("")}function m(){var e=f(".mb_booking_detail"),i=e.find(".mb_cart .cart-detail");i.find(".cart-error").hide();var o=0,n=0,s=0,a=[];e.find(".mb_seats .seats .seat:checked").each(function(){a.push(f(this).val()),s+=1;var t=f(this).data("price");t&&(o+=p(parseFloat(t)))});var _=[];if(i.find(".cart-area-item .area-item").each(function(){_.push(f(this).attr("data-area-id"));var t=f(this).attr("data-area-price"),a=f(this).attr("data-area-qty");s+=parseInt(a),t&&(n+=p(parseFloat(t)))}),0!=a.length||0!=_.length){i.find(".cart-fee").show();var m=parseFloat(o)+parseFloat(n);i.find('input[name="ova_mb_booking_qty"]').val(s),i.find('input[name="ova_mb_booking_subtotal"]').val(parseFloat(m)),i.find(".cart-item .subtotal").html(b(o));var c=0,d=(i.find('input[name="ova_mb_booking_discount_code"]').val(),i.find('input[name="ova_mb_booking_discount_value"]').val()),r=i.find('input[name="ova_mb_booking_discount_type"]').val();(d=d||0)&&("percent"===r&&(c=parseFloat(d)*m/100),"amount"===r&&(c=parseFloat(d))),i.find('input[name="ova_mb_booking_discount"]').val(c),i.find(".total-discount .dicount-number").html("-"+b(c)),(m-=c)<0&&(m=0);e=i.find('input[name="cart-data"]').data("tax-fee"),r=i.find('input[name="cart-data"]').data("tax-type"),e=e||0,d=i.find('input[name="cart-data"]').data("ticket-fee"),c=i.find('input[name="cart-data"]').data("ticket-fee-type"),d=d||0;let t=0;e&&("percent"===r&&(t=parseFloat(e)*m/100),"amount"===r&&(t=parseFloat(e))),i.find(".tax-number").html(b(t)),i.find('input[name="ova_mb_booking_tax"]').val(t);let a=0;"percent"===c&&(a=parseFloat(d)*m/100),"amount"===c&&(a=parseFloat(d)*parseInt(s)),i.find(".ticket-fee-number").html(b(a)),i.find('input[name="ova_mb_booking_ticket_fee"]').val(a),i.find(".total-number").html(b(m+t+a)),i.find('input[name="ova_mb_booking_total"]').val(parseFloat(m)+t+a)}else l()}function b(t){var a=f('.mb_booking_detail .mb_cart .cart-detail input[name="cart-data"]').data("currency-settings");if(a){var e=a.currency||"$",i=a.decimal_separator||".",o=a.thousand_separator||",",n=a.number_decimals||0;switch(t=(t=(t=parseFloat(t).toFixed(parseInt(n))).toString().replace(".",i)).toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+o),a.currency_position){case"left":t=e+t;break;case"left_space":t=e+" "+t;break;case"right":t+=e;break;case"right_space":t=t+" "+e;break;default:t=e+t}return t}}function p(t){var a,e,i=t,o=f(".mb_booking_detail .mb_cart .cart-detail");return i?(a=o.find('input[name="cart-data"]').data("tax-fee"),e=o.find('input[name="cart-data"]').data("tax-type"),o=o.find('input[name="cart-data"]').data("tax-incl"),a&&"yes"==o&&("percent"===e&&(o=1+parseFloat(a)/100,i=t-parseFloat(a)/100/o*t),"amount"===e&&(i=t-parseFloat(a)))):i=0,i}f('form#post #poststuff input[type="submit"]').on("click",function(t){var a=f(this).closest("#poststuff").find(".mb_booking_detail"),e=a.find('select[name="ova_mb_booking_movie_id"]').val(),i=a.find('select[name="ova_mb_booking_date"]').val(),o=a.find('select[name="ova_mb_booking_room_id"]').val(),n=a.find('select[name="ova_mb_booking_status"]').val();if(0<a.length&&e&&i&&o&&n){var n=a.find(".mb-error").not(".mb-error-discount"),s=[];a.find(".seats .seat:checked").each(function(){s.push(f(this).val())});var _=[];if(a.find(".areas .area:checked").each(function(){_.push(f(this).val())}),!(s&&s.length||_&&_.length)){t.preventDefault();a=a.find(".seats").data("error");return n.show().find("span.mesg").html(a),!1}}}),f(".mb_booking_detail").on("change",function(){f(this).find(".mb_create_ticket").hide()}),f('.mb_booking_detail .mb_movies select[name="ova_mb_booking_movie_id"]').on("change",function(t){t.preventDefault();var e=f(this),i=e.closest(".mb_booking_detail").find(".mb-loading").css("display","inline-block"),t=e.val();f.post(ajax_object.ajax_url,{action:"mb_add_booking_select_movie",data:{ajax_nonce:ajax_object.ajax_nonce,movie_id:t}},function(t){var a;i.hide(),t?(a=JSON.parse(t),e.closest(".mb_booking_detail").find('select[name="ova_mb_booking_date"]').html(a.html_showtime),t=e.closest(".mb_booking_detail").find('select[name="ova_mb_booking_date"] option:selected').data("showtime-id"),e.closest(".mb_booking_detail").find('input[name="ova_mb_booking_showtime_id"]').val(t),e.closest(".mb_booking_detail").find('select[name="ova_mb_booking_room_id"]').html(a.html_room),e.closest(".mb_booking_detail").find(".mb_seats .seats").html(a.html_seat),e.closest(".mb_booking_detail").find(".mb_areas .areas").html(a.html_area)):(e.closest(".mb_booking_detail").find('select[name="ova_mb_booking_date"]').html(""),e.closest(".mb_booking_detail").find('select[name="ova_mb_booking_room_id"]').html(""),e.closest(".mb_booking_detail").find(".mb_seats .seats").html(""),e.closest(".mb_booking_detail").find(".mb_areas .areas").html("")),l()})}),f('.mb_booking_detail .mb_showtimes select[name="ova_mb_booking_date"]').on("change",function(t){t.preventDefault();var e=f(this);e.closest(".mb_booking_detail").find(".mb_rooms .mb-loading").css("display","inline-block"),e.closest(".mb_booking_detail").find(".mb_seats .mb-loading").css("display","inline-block");var i=e.find("option:selected").data("showtime-id");f.post(ajax_object.ajax_url,{action:"mb_add_booking_change_date",data:{ajax_nonce:ajax_object.ajax_nonce,showtime_id:i}},function(t){var a;e.closest(".mb_booking_detail").find(".mb_rooms .mb-loading").hide(),e.closest(".mb_booking_detail").find(".mb_seats .mb-loading").hide(),t?(a=JSON.parse(t),e.closest(".mb_booking_detail").find('select[name="ova_mb_booking_room_id"]').html(a.html_room),e.closest(".mb_booking_detail").find(".mb_seats .seats").html(a.html_seat)):(e.closest(".mb_booking_detail").find('select[name="ova_mb_booking_room_id"]').html(""),e.closest(".mb_booking_detail").find(".mb_seats .seats").html("")),e.closest(".mb_booking_detail").find(".mb_areas .areas").html(a.html_area),e.closest(".mb_booking_detail").find('input[name="ova_mb_booking_showtime_id"]').val(i),l()})}),f('.mb_booking_detail .mb_rooms select[name="ova_mb_booking_room_id"]').on("change",function(t){t.preventDefault();var e=f(this),i=e.closest(".mb_booking_detail").find(".mb_seats .mb-loading").css("display","inline-block"),t=e.val();f.post(ajax_object.ajax_url,{action:"mb_add_booking_change_room",data:{ajax_nonce:ajax_object.ajax_nonce,room_id:t}},function(t){var a;i.hide(),t?(a=JSON.parse(t),e.closest(".mb_booking_detail").find(".mb_seats .seats").html(a.html_seat)):e.closest(".mb_booking_detail").find(".mb_seats .seats").html(""),e.closest(".mb_booking_detail").find(".mb_areas .areas").html(a.html_area),l()})}),f(".mb_booking_detail").find(".mb_seats .seats .seat:checked").val()||f(".mb_booking_detail").find(".mb_cart .cart-detail .cart-item").hide(),f(".mb_booking_detail .mb_seats .seats").on("change",function(t){t.preventDefault();t=f(".mb_booking_detail");f(this).closest(".mb_booking_detail").find(".ova_row.mb-error").hide(),f(this).closest(".mb_booking_detail").find(".ova_row.mb-error .mesg").html("");var a=[],e=[];if(t.find(".mb_seats .seats .seat:checked").each(function(){a.push(f(this).val()),e.push(f(this).data("price"))}),0<a.length){t.find(".mb_cart .cart-detail .cart-item").show();for(var i="",o=0;o<a.length;o++)i+="<span>"+a[o]+"</span>";t.find(".mb_cart .cart-detail .seat").html(i),t.find(".mb_cart .cart-detail .cart-error").hide()}else t.find(".mb_cart .cart-detail .cart-item").hide(),t.find(".mb_cart .cart-detail .cart-item .seat").html(""),t.find(".mb_cart .cart-detail .cart-item .mb-price").html("");m()}),f(".mb_booking_detail .mb_areas .areas").on("change",function(t){t.preventDefault();var a=f(".mb_booking_detail");f(this).closest(".mb_booking_detail").find(".ova_row.mb-error").hide(),f(this).closest(".mb_booking_detail").find(".ova_row.mb-error .mesg").html("");var e,i={},o={};a.find(".mb_areas .areas .area:checked").each(function(){var t=a.find('input[name="ova_mb_booking_area_qty['+f(this).val()+']"]').val();parseInt(t)?o[f(this).val()]=parseInt(t):(t=1,o[f(this).val()]=t),i[f(this).val()]=parseFloat(f(this).data("price"))*parseInt(t)}),console.log(i),f.isEmptyObject(i)?a.find(".mb_cart .cart-detail .cart-area-item").hide():(a.find(".mb_cart .cart-detail .cart-area-item").show(),e="",f.each(i,function(t,a){e+='<div class="area-item" data-area-id="'+t+'" data-area-price="'+a+'" data-area-qty="1">',e+='<div class="area-id"><span>'+t+"</span></div>",e+='<div class="area-qty">',e+='<span class="area-minus">',e+='<span class="dashicons dashicons-minus"></span>',e+="</span>",e+='<span class="qty">'+o[t]+"</span>",e+='<input type="hidden" name="ova_mb_booking_area_qty['+t+']" value="'+o[t]+'">',e+='<span class="area-plus">',e+='<span class="dashicons dashicons-plus-alt2"></span>',e+="</span>",e+="</div>",e+='<div class="subtotal mb-price">'+b(p(a))+"</div>",e+="</div>"}),a.find(".mb_cart .cart-detail .cart-area-item").html(e),a.find(".mb_cart .cart-detail .cart-error").hide()),m()}),f(".mb_booking_detail .cart-detail .cart-discount .submit-discount").on("click",function(t){var i,o,n,s,_;t.preventDefault(),f(this).closest(".cart-discount").find('input[name="add_discount_code"]').val()||f(this).closest(".cart-discount").find('input[name="add_discount_code"]').focus(),t=f(".mb_booking_detail"),i=t.find(".mb_cart .cart-detail"),o=i.find(".mb-loading"),n=i.find('input[name="add_discount_code"]').val(),s=t.find('select[name="ova_mb_booking_movie_id"]').val(),(_=i.find(".mb-error.mb-error-discount")).hide(),o.css("display","inline-block"),f.post(ajax_object.ajax_url,{action:"mb_add_booking_check_coupon",data:{ajax_nonce:ajax_object.ajax_nonce,movieID:s,discountCode:n}},function(t){var a,e;t?(a=(e=JSON.parse(t)).type,t=e.value,e=e.code,i.find('.total-discount input[name="ova_mb_booking_discount_value"]').val(t),i.find('.total-discount input[name="ova_mb_booking_discount_type"]').val(a),i.find('.total-discount input[name="ova_mb_booking_discount_code"]').val(e)):(i.find('.total-discount input[name="ova_mb_booking_discount"]').val(""),i.find('.total-discount input[name="ova_mb_booking_discount_type"]').val(""),i.find('.total-discount input[name="ova_mb_booking_discount_code"]').val(""),n&&s&&_.show()),m(),o.hide()})}),f(document).on("click",".mb_booking_detail .area-minus",function(t){if(t.preventDefault(),f(this).hasClass("disable"))return!1;var a=f(this).closest(".area-item").attr("data-area-id"),e=f(this).closest(".area-item").attr("data-area-qty"),t=f(".mb_booking_detail").find('.mb_areas .areas input[data-id="'+a+'"]').data("price"),e=(f(".mb_booking_detail").find('.mb_areas .areas input[data-id="'+a+'"]').data("qty"),parseInt(e)-1);0==e?(f(this).closest(".area-item").remove(),f(".mb_booking_detail").find('.mb_areas .areas input[data-id="'+a+'"]').prop("checked",!1)):(t=parseFloat(t),f(this).closest(".area-item").attr("data-area-qty",e),f(this).closest(".area-item").attr("data-area-price",t*e),f(this).closest(".area-item").find(".qty").text(e),f(this).closest(".area-item").find('input[name="ova_mb_booking_area_qty['+a+']"]').val(e),f(this).closest(".area-item").find(".mb-price").html(b(p(t)*e))),m()}),f(document).on("click",".mb_booking_detail .area-plus",function(t){if(t.preventDefault(),f(this).hasClass("disable"))return!1;var a=f(this).closest(".area-item").attr("data-area-id"),e=f(this).closest(".area-item").attr("data-area-qty"),i=f(".mb_booking_detail").find('.mb_areas .areas input[data-id="'+a+'"]').data("price"),t=f(".mb_booking_detail").find('.mb_areas .areas input[data-id="'+a+'"]').data("qty"),i=parseFloat(i),e=parseInt(e)+1;e==parseInt(t)&&f(this).closest(".area-item").find(".area-plus").addClass("disable"),f(this).closest(".area-item").attr("data-area-qty",e),f(this).closest(".area-item").attr("data-area-price",i*e),f(this).closest(".area-item").find(".qty").text(e),f(this).closest(".area-item").find('input[name="ova_mb_booking_area_qty['+a+']"]').val(e),f(this).closest(".area-item").find(".mb-price").html(b(p(i)*e)),m()})},mb_showtimes_filter:function(){f('.mb-showtimes-filter select[name="city_id"]').on("change",function(){var t=f(this),a=t.val(),e=t.closest(".mb-showtimes-filter").find('select[name="venue_id"]');f.post(ajax_object.ajax_url,{action:"mb_city_showtimes_filter",data:{ajax_nonce:ajax_object.ajax_nonce,city_id:a}},function(t){t&&e.html("").append(t)})})},mb_showtimes_action:function(){var t;"undefined"!=typeof mb_admin&&(t=f(".edit-php.post-type-showtime").find(".page-title-action:first"),mb_admin.urls.export_showtimes&&mb_admin.strings.export_showtimes&&t.after('<a href="'+mb_admin.urls.export_showtimes+'" class="page-title-action">'+mb_admin.strings.export_showtimes+"</a>"),mb_admin.urls.import_showtimes&&mb_admin.strings.import_showtimes&&t.after('<a href="'+mb_admin.urls.import_showtimes+'" class="page-title-action">'+mb_admin.strings.import_showtimes+"</a>"))},mb_create_send_tickets:function(){var t=f(".mb_booking_detail"),a=f(".mb_booking_detail").find(".mb_create_ticket");"auto-draft"!=t.find('input[name="post-status"]').val()?t.find(".mb_create_ticket").css("display","flex"):t.find(".mb_create_ticket").hide();var e=a.find(".mb-loading"),i=a.find(".msg");i.hide(),a.find(".create-ticket").on("click",function(t){t.preventDefault(),e.show();t=f(this).data("booking-id");f.post(ajax_object.ajax_url,{action:"mb_create_send_tickets",data:{ajax_nonce:ajax_object.ajax_nonce,bookingID:t}},function(t){e.hide(),t&&("success"==(t=JSON.parse(t)).status&&i.show().addClass("mb-success").html(t.message),"error"==t.status&&i.show().addClass("mb-error").html(t.message))})})},mb_tickets_action:function(){var t;"undefined"!=typeof mb_admin&&(t=f(".edit-php.post-type-mb_ticket").find(".wp-heading-inline"),mb_admin.urls.export_tickets&&mb_admin.strings.export_tickets&&t.after('<a href="'+mb_admin.urls.export_tickets+'" class="page-title-action">'+mb_admin.strings.export_tickets+"</a>"))},mb_bookings_action:function(){var t;"undefined"!=typeof mb_admin&&(t=f(".edit-php.post-type-mb_booking").find(".page-title-action:first"),mb_admin.urls.booking_statistics&&mb_admin.strings.booking_statistics&&t.after('<a href="'+mb_admin.urls.booking_statistics+'" class="page-title-action">'+mb_admin.strings.booking_statistics+"</a>")),f(".mb-booking-statistics .booking-statistics .button").on("click",function(t){t.preventDefault();var a=f(this);a.closest(".booking-statistics").find(".mb-loading").show();var e=a.closest(".booking-statistics").find('select[name="movie_id"]').val(),i=a.closest(".booking-statistics").find('select[name="booking_status"]').val(),o=a.closest(".booking-statistics").find('input[name="from"]').val(),n=a.closest(".booking-statistics").find('input[name="to"]').val(),s=a.closest(".booking-statistics").find('select[name="city_id"]').val(),_=a.closest(".booking-statistics").find('select[name="venue_id"]').val(),t=a.closest(".booking-statistics").find('select[name="room_id"]').val();f.post(ajax_object.ajax_url,{action:"mb_booking_statistics",data:{ajax_nonce:ajax_object.ajax_nonce,movieID:e,status:i,from:o,to:n,cityID:s,venueID:_,roomID:t}},function(t){a.closest(".booking-statistics").find(".mb-loading").hide(),t&&(t=JSON.parse(t),a.closest(".booking-statistics").find(".subtotal .price").html(t.subtotal),a.closest(".booking-statistics").find(".discount .price").html(t.discount),a.closest(".booking-statistics").find(".tax .price").html(t.tax),a.closest(".booking-statistics").find(".ticket-fee .price").html(t.ticket_fee),a.closest(".booking-statistics").find(".total .price").html(t.total))})})}};f(document).ready(function(){s.init()})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWRtaW4ubWluLmpzIiwic291cmNlcyI6WyJhZG1pbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oJCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIC8qIG9iamVjdCBqcyAqL1xuICAgIHZhciBNQl9BZG1pbiA9IHtcbiAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBBZG1pbiBTZXR0aW5nc1xuICAgICAgICAgICAgdGhpcy5hZG1pbl9zZXR0aW5nc190YWIoKTtcblxuICAgICAgICAgICAgLy8gQWRkIHNlYXQgbWFwXG4gICAgICAgICAgICB0aGlzLm1iX2FkZF9zZWF0X21hcCgpO1xuXG4gICAgICAgICAgICAvLyBTZWxlY3QyXG4gICAgICAgICAgICB0aGlzLm1iX3NlbGVjdDIoKTtcblxuICAgICAgICAgICAgLy8gQ29sb3IgUGlja2VyXG4gICAgICAgICAgICB0aGlzLm1iX2NvbG9ycGlja2VyKCk7XG5cbiAgICAgICAgICAgIC8vIERhdGV0aW1lcGlja2VyXG4gICAgICAgICAgICB0aGlzLm1iX2RhdGV0aW1lcGlja2VyKCk7XG5cbiAgICAgICAgICAgIC8vIFJlbG9hZCB3aGVuIGNyZWF0ZSB0YXhvbm9taWVzOiBtb3ZpZV9sb2NhdGlvbiwgbW92aWVfbG9jYXRpb25cbiAgICAgICAgICAgIHRoaXMubWJfY3JlYXRlX3RheG9ub215X3JlbG9hZCgpO1xuXG4gICAgICAgICAgICAvLyBDaGFuZ2UgQ2l0eSBpbiBTaG93dGltZVxuICAgICAgICAgICAgdGhpcy5tYl9jaGFuZ2VfY2l0eSgpO1xuXG4gICAgICAgICAgICAvLyBDb3Vwb25zXG4gICAgICAgICAgICB0aGlzLm1iX2NvdXBvbnMoKTtcblxuICAgICAgICAgICAgLy8gVXBsb2FkIEltYWdlXG4gICAgICAgICAgICB0aGlzLm1iX3VwbG9hZF9pbWFnZSgpO1xuICAgICAgICAgICAgdGhpcy5tYl9yZW1vdmVfdXBsb2FkX2ltYWdlKCk7XG5cbiAgICAgICAgICAgIC8vIEJvb2tpbmdcbiAgICAgICAgICAgIHRoaXMubWJfY3JlYXRlX2Jvb2tpbmcoKTtcblxuICAgICAgICAgICAgLy8gU2hvd3RpbWVzIEZpbHRlclxuICAgICAgICAgICAgdGhpcy5tYl9zaG93dGltZXNfZmlsdGVyKCk7XG5cbiAgICAgICAgICAgIC8vIFNob3d0aW1lcyBJbXBvcnQvRXhwb3J0XG4gICAgICAgICAgICB0aGlzLm1iX3Nob3d0aW1lc19hY3Rpb24oKTtcblxuICAgICAgICAgICAgLy8gQ3JlYXRlICYgU2VuZCBUaWNrZXRzXG4gICAgICAgICAgICB0aGlzLm1iX2NyZWF0ZV9zZW5kX3RpY2tldHMoKTtcblxuICAgICAgICAgICAgLy8gVGlja2V0cyBFeHBvcnRcbiAgICAgICAgICAgIHRoaXMubWJfdGlja2V0c19hY3Rpb24oKTtcblxuICAgICAgICAgICAgLy8gQm9va2luZyBTdGF0aXN0aWNzXG4gICAgICAgICAgICB0aGlzLm1iX2Jvb2tpbmdzX2FjdGlvbigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFkbWluX3NldHRpbmdzX3RhYjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyggd2luZG93LmxvY2F0aW9uLnNlYXJjaCApO1xuXG4gICAgICAgICAgICAvLyBUYWJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcub3ZhX21iX3NldHRpbmdzX3dyYXBwZXIgLm5hdi10YWItd3JhcHBlciBhJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdGhhdCAgICA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgdmFyIGVkaXRVcmwgPSB0aGF0LmNsb3Nlc3QoJy5vdmFfbWJfc2V0dGluZ3Nfd3JhcHBlcicpLmZpbmQoJy5vdmFfbWJfd3JhcHBlcl9jb250ZW50JykuZGF0YSgnZWRpdC11cmwnKTtcbiAgICAgICAgICAgICAgICB2YXIgdGFiX2lkICA9IHRoYXQuZGF0YSgndGFiJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBTZXQgUGFyYW1zIGluIFVSTFxuICAgICAgICAgICAgICAgIHVybFBhcmFtcy5zZXQoJ3RhYicsIHRhYl9pZCk7XG4gICAgICAgICAgICAgICAgdXJsUGFyYW1zLmRlbGV0ZSgnZ3JvdXAnKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgbnVsbCwgXCI/XCIgKyB1cmxQYXJhbXMudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgICAgICAgICAkKCcub3ZhX21iX3NldHRpbmdzX3dyYXBwZXIgLm5hdi10YWItd3JhcHBlciBhJykucmVtb3ZlQ2xhc3MoJ25hdi10YWItYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgdGhhdC5hZGRDbGFzcygnbmF2LXRhYi1hY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgICQoJy5vdmFfbWJfc2V0dGluZ3Nfd3JhcHBlciAub3ZhX21iX3dyYXBwZXJfY29udGVudCA+IGRpdicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKCcub3ZhX21iX3NldHRpbmdzX3dyYXBwZXIgLm92YV9tYl93cmFwcGVyX2NvbnRlbnQgIycgKyB0YWJfaWQpLmZhZGVJbigpO1xuICAgICAgICAgICAgICAgICQoJy5vdmFfbWJfc2V0dGluZ3Nfd3JhcHBlciAub3ZhX21iX3dyYXBwZXJfY29udGVudCAjJyArIHRhYl9pZCkuZmluZCgnLm1iX3RhYl9ncm91cCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAkKCcub3ZhX21iX3NldHRpbmdzX3dyYXBwZXIgLm92YV9tYl93cmFwcGVyX2NvbnRlbnQgIycgKyB0YWJfaWQpLmZpbmQoJy5tYl90YWJfZ3JvdXBfY29udGVudCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAkKCcub3ZhX21iX3NldHRpbmdzX3dyYXBwZXIgLm92YV9tYl93cmFwcGVyX2NvbnRlbnQgIycgKyB0YWJfaWQpLmZpbmQoJy5tYl90YWJfZ3JvdXAnKS5lYWNoKCBmdW5jdGlvbihpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICggaSA9PSAwICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZCA9ICQodGhpcykuYXR0cignaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnLm1iLXRhYicpLmZpbmQoJy5tYl90YWJfZ3JvdXBfY29udGVudFtkYXRhLXRhYi1pZD1cIicraWQrJ1wiXScpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gU2F2ZVxuICAgICAgICAgICAgICAgIHZhciBuZXh0VXJsID0gZWRpdFVybCsnP3Bvc3RfdHlwZT1tb3ZpZSZwYWdlPW92YV9tYl9zZXR0aW5nJnNldHRpbmdzLXVwZGF0ZWQ9dHJ1ZSZ0YWI9Jyt0YWJfaWQ7XG4gICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCdmb3JtW25hbWU9XCJvdmFfbWJfb3B0aW9uc1wiXScpLmZpbmQoJ2lucHV0W25hbWU9XCJfd3BfaHR0cF9yZWZlcmVyXCJdJykudmFsKG5leHRVcmwpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFRhYiBHcm91cFxuICAgICAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5vdmFfbWJfc2V0dGluZ3Nfd3JhcHBlciAub3ZhX21iX3dyYXBwZXJfY29udGVudCAubWJfdGFiX2dyb3VwJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdmFyIHRoYXQgICAgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBlZGl0VXJsID0gdGhhdC5jbG9zZXN0KCcub3ZhX21iX3NldHRpbmdzX3dyYXBwZXInKS5maW5kKCcub3ZhX21iX3dyYXBwZXJfY29udGVudCcpLmRhdGEoJ2VkaXQtdXJsJyk7XG4gICAgICAgICAgICAgICAgdmFyIGlkICAgICAgPSB0aGF0LmF0dHIoICdpZCcgKTtcbiAgICAgICAgICAgICAgICB2YXIgdGFiX2lkICA9IHRoYXQuY2xvc2VzdCgnLm1iLXRhYicpLmF0dHIoJ2lkJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBTZXQgUGFyYW1zIGluIFVSTFxuICAgICAgICAgICAgICAgIHVybFBhcmFtcy5zZXQoJ3RhYicsIHRhYl9pZCk7XG4gICAgICAgICAgICAgICAgdXJsUGFyYW1zLnNldCgnZ3JvdXAnLCBpZCk7XG4gICAgICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIG51bGwsIFwiP1wiICsgdXJsUGFyYW1zLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCcubWItdGFiJykuZmluZCgnLm1iX3RhYl9ncm91cCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5tYi10YWInKS5maW5kKCcubWJfdGFiX2dyb3VwX2NvbnRlbnQnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgdGhhdC5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCcubWItdGFiJykuZmluZCgnLm1iX3RhYl9ncm91cF9jb250ZW50W2RhdGEtdGFiLWlkPVwiJytpZCsnXCJdJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgLy8gU2F2ZVxuICAgICAgICAgICAgICAgIHZhciBuZXh0VXJsID0gZWRpdFVybCsnP3Bvc3RfdHlwZT1tb3ZpZSZwYWdlPW92YV9tYl9zZXR0aW5nJnRhYj0nK3RhYl9pZCsnJmdyb3VwPScraWQrJyZzZXR0aW5ncy11cGRhdGVkPXRydWUnO1xuICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnZm9ybVtuYW1lPVwib3ZhX21iX29wdGlvbnNcIl0nKS5maW5kKCdpbnB1dFtuYW1lPVwiX3dwX2h0dHBfcmVmZXJlclwiXScpLnZhbChuZXh0VXJsKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBDaGFuZ2UgRm9ybVxuICAgICAgICAgICAgJChkb2N1bWVudCkub24oJ2NoYW5nZScsICdmb3JtW25hbWU9XCJvdmFfbWJfb3B0aW9uc1wiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgZm9ybUNoYW5nZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFRheFxuICAgICAgICAgICAgZm9ybUNoYW5nZSgpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBmb3JtQ2hhbmdlKCkge1xuICAgICAgICAgICAgICAgIHZhciB0YXhGZWUgICAgICA9ICQoZG9jdW1lbnQpLmZpbmQoJy5vdmFfbWJfc2V0dGluZ3Nfd3JhcHBlciAub3ZhX21iX3dyYXBwZXJfY29udGVudCAjdGF4X2ZlZScpO1xuICAgICAgICAgICAgICAgIHZhciBjaGVja291dCAgICA9ICQoZG9jdW1lbnQpLmZpbmQoJy5vdmFfbWJfc2V0dGluZ3Nfd3JhcHBlciAub3ZhX21iX3dyYXBwZXJfY29udGVudCAjY2hlY2tvdXQnKTtcblxuICAgICAgICAgICAgICAgIC8vIFRheCBGZWVcbiAgICAgICAgICAgICAgICB2YXIgZW5hYmxlVGF4ID0gdGF4RmVlLmZpbmQoJyNlbmFibGVfdGF4JykudmFsKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIGVuYWJsZVRheCA9PSAneWVzJyApIHtcbiAgICAgICAgICAgICAgICAgICAgdGF4RmVlLmZpbmQoJyN0eXBlX3RheCcpLmNsb3Nlc3QoJ3RyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB0YXhGZWUuZmluZCgnI3ByaWNlc19pbmNsdWRlX3RheCcpLmNsb3Nlc3QoJ3RyJykuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciB0eXBlVGF4ID0gdGF4RmVlLmZpbmQoJyN0eXBlX3RheCcpLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCB0eXBlVGF4ID09ICdwZXJjZW50JyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRheEZlZS5maW5kKCcjcGVjZW50X3RheCcpLmNsb3Nlc3QoJ3RyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGF4RmVlLmZpbmQoJyNwZWNlbnRfdGF4JykuY2xvc2VzdCgndHInKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIHR5cGVUYXggPT0gJ2Ftb3VudCcgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXhGZWUuZmluZCgnI2Ftb3VudF90YXgnKS5jbG9zZXN0KCd0cicpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRheEZlZS5maW5kKCcjYW1vdW50X3RheCcpLmNsb3Nlc3QoJ3RyJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGF4RmVlLmZpbmQoJyN0eXBlX3RheCcpLmNsb3Nlc3QoJ3RyJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB0YXhGZWUuZmluZCgnI3BlY2VudF90YXgnKS5jbG9zZXN0KCd0cicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGF4RmVlLmZpbmQoJyNhbW91bnRfdGF4JykuY2xvc2VzdCgndHInKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRheEZlZS5maW5kKCcjcHJpY2VzX2luY2x1ZGVfdGF4JykuY2xvc2VzdCgndHInKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVGlja2V0IEZlZVxuICAgICAgICAgICAgICAgIHZhciBlbmFibGVUaWNrZUZlZSA9IHRheEZlZS5maW5kKCcjZW5hYmxlX3RpY2tldF9mZWUnKS52YWwoKTtcblxuICAgICAgICAgICAgICAgIGlmICggZW5hYmxlVGlja2VGZWUgPT0gJ3llcycgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRheEZlZS5maW5kKCcjdHlwZV90aWNrZXRfZmVlJykuY2xvc2VzdCgndHInKS5zaG93KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGVUYXhGZWUgPSB0YXhGZWUuZmluZCgnI3R5cGVfdGlja2V0X2ZlZScpLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCB0eXBlVGF4RmVlID09ICdwZXJjZW50JyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRheEZlZS5maW5kKCcjcGVjZW50X3RpY2tldF9mZWUnKS5jbG9zZXN0KCd0cicpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRheEZlZS5maW5kKCcjcGVjZW50X3RpY2tldF9mZWUnKS5jbG9zZXN0KCd0cicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICggdHlwZVRheEZlZSA9PSAnYW1vdW50JyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRheEZlZS5maW5kKCcjYW1vdW50X3RpY2tldF9mZWUnKS5jbG9zZXN0KCd0cicpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRheEZlZS5maW5kKCcjYW1vdW50X3RpY2tldF9mZWUnKS5jbG9zZXN0KCd0cicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRheEZlZS5maW5kKCcjdHlwZV90aWNrZXRfZmVlJykuY2xvc2VzdCgndHInKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRheEZlZS5maW5kKCcjcGVjZW50X3RpY2tldF9mZWUnKS5jbG9zZXN0KCd0cicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGF4RmVlLmZpbmQoJyNhbW91bnRfdGlja2V0X2ZlZScpLmNsb3Nlc3QoJ3RyJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEhvbGRpbmcgVGlja2V0XG4gICAgICAgICAgICAgICAgdmFyIGVuYWJsZUhvbGRpbmcgPSBjaGVja291dC5maW5kKCcjZW5hYmxlX2hvbGRpbmdfdGlja2V0JykudmFsKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIGVuYWJsZUhvbGRpbmcgPT0gJ3llcycgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrb3V0LmZpbmQoJyNob2xkaW5nX3Blcl9zZWNvbmRzJykuY2xvc2VzdCgndHInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrb3V0LmZpbmQoJyNtYXhfdGltZV9jb21wbGV0ZV9wYXltZW50JykuY2xvc2VzdCgndHInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tvdXQuZmluZCgnI2hvbGRpbmdfcGVyX3NlY29uZHMnKS5jbG9zZXN0KCd0cicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tvdXQuZmluZCgnI21heF90aW1lX2NvbXBsZXRlX3BheW1lbnQnKS5jbG9zZXN0KCd0cicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNYWlsXG4gICAgICAgICAgICAgICAgdmFyIG1haWxUYWIgPSAkKGRvY3VtZW50KS5maW5kKCcub3ZhX21iX3NldHRpbmdzX3dyYXBwZXIgLm92YV9tYl93cmFwcGVyX2NvbnRlbnQgI21haWwnKTtcblxuICAgICAgICAgICAgICAgIC8vIE5ldyBPcmRlclxuICAgICAgICAgICAgICAgIHZhciBlbmFibGVOZXdPcmRlciA9IG1haWxUYWIuZmluZCgnI2VuYWJsZV9zZW5kX2Jvb2tpbmdfZW1haWwnKS52YWwoKTtcblxuICAgICAgICAgICAgICAgIGlmICggZW5hYmxlTmV3T3JkZXIgPT0gJ3llcycgKSB7XG4gICAgICAgICAgICAgICAgICAgIG1haWxUYWIuZmluZCgnI21haWxfbmV3X2Jvb2tpbmdfc2VuZG1haWwnKS5jbG9zZXN0KCd0cicpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgbWFpbFRhYi5maW5kKCcjbWFpbF9uZXdfcmVjaXBpZW50JykuY2xvc2VzdCgndHInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIG1haWxUYWIuZmluZCgnI21haWxfbmV3X3N1YmplY3QnKS5jbG9zZXN0KCd0cicpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgbWFpbFRhYi5maW5kKCcjbWFpbF9uZXdfZnJvbV9uYW1lJykuY2xvc2VzdCgndHInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIG1haWxUYWIuZmluZCgnI21haWxfbmV3X2FkbWluX2VtYWlsJykuY2xvc2VzdCgndHInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIG1haWxUYWIuZmluZCgnI3dwLW92YV9tYl9zZXR0aW5nX21haWxfbWFpbF9uZXdfdGVtcGxhdGUtd3JhcCcpLmNsb3Nlc3QoJ3RyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1haWxUYWIuZmluZCgnI21haWxfbmV3X2Jvb2tpbmdfc2VuZG1haWwnKS5jbG9zZXN0KCd0cicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgbWFpbFRhYi5maW5kKCcjbWFpbF9uZXdfcmVjaXBpZW50JykuY2xvc2VzdCgndHInKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIG1haWxUYWIuZmluZCgnI21haWxfbmV3X3N1YmplY3QnKS5jbG9zZXN0KCd0cicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgbWFpbFRhYi5maW5kKCcjbWFpbF9uZXdfZnJvbV9uYW1lJykuY2xvc2VzdCgndHInKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIG1haWxUYWIuZmluZCgnI21haWxfbmV3X2FkbWluX2VtYWlsJykuY2xvc2VzdCgndHInKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIG1haWxUYWIuZmluZCgnI3dwLW92YV9tYl9zZXR0aW5nX21haWxfbWFpbF9uZXdfdGVtcGxhdGUtd3JhcCcpLmNsb3Nlc3QoJ3RyJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFJlbWluZCBFbWFpbFxuICAgICAgICAgICAgICAgIHZhciBlbmFibGVSZW1pbmRFbWFpbCA9IG1haWxUYWIuZmluZCgnI2VuYWJsZV9yZW1pbmRfbWFpbCcpLnZhbCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBlbmFibGVSZW1pbmRFbWFpbCA9PSAneWVzJyApIHtcbiAgICAgICAgICAgICAgICAgICAgbWFpbFRhYi5maW5kKCcjcmVtaW5kX21haWxfYmVmb3JlX3hkYXknKS5jbG9zZXN0KCd0cicpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgbWFpbFRhYi5maW5kKCcjcmVtaW5kX21haWxfc2VuZF9wZXJfc2Vjb25kcycpLmNsb3Nlc3QoJ3RyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICBtYWlsVGFiLmZpbmQoJyNyZW1pbmRfbWFpbF9zdWJqZWN0JykuY2xvc2VzdCgndHInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIG1haWxUYWIuZmluZCgnI3JlbWluZF9tYWlsX2Zyb21fbmFtZScpLmNsb3Nlc3QoJ3RyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICBtYWlsVGFiLmZpbmQoJyNyZW1pbmRfbWFpbF9hZG1pbl9lbWFpbCcpLmNsb3Nlc3QoJ3RyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICBtYWlsVGFiLmZpbmQoJyN3cC1vdmFfbWJfc2V0dGluZ19tYWlsX3JlbWluZF9tYWlsX3RlbXBsYXRlLXdyYXAnKS5jbG9zZXN0KCd0cicpLnNob3coKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtYWlsVGFiLmZpbmQoJyNyZW1pbmRfbWFpbF9iZWZvcmVfeGRheScpLmNsb3Nlc3QoJ3RyJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICBtYWlsVGFiLmZpbmQoJyNyZW1pbmRfbWFpbF9zZW5kX3Blcl9zZWNvbmRzJykuY2xvc2VzdCgndHInKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIG1haWxUYWIuZmluZCgnI3JlbWluZF9tYWlsX3N1YmplY3QnKS5jbG9zZXN0KCd0cicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgbWFpbFRhYi5maW5kKCcjcmVtaW5kX21haWxfZnJvbV9uYW1lJykuY2xvc2VzdCgndHInKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIG1haWxUYWIuZmluZCgnI3JlbWluZF9tYWlsX2FkbWluX2VtYWlsJykuY2xvc2VzdCgndHInKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIG1haWxUYWIuZmluZCgnI3dwLW92YV9tYl9zZXR0aW5nX21haWxfcmVtaW5kX21haWxfdGVtcGxhdGUtd3JhcCcpLmNsb3Nlc3QoJ3RyJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENhbmNlbCBFbWFpbFxuICAgICAgICAgICAgICAgIHZhciBlbmFibGVDYW5jZWxFbWFpbCA9IG1haWxUYWIuZmluZCgnI2VuYWJsZV9jYW5jZWxfZW1haWwnKS52YWwoKTtcblxuICAgICAgICAgICAgICAgIGlmICggZW5hYmxlQ2FuY2VsRW1haWwgPT0gJ3llcycgKSB7XG4gICAgICAgICAgICAgICAgICAgIG1haWxUYWIuZmluZCgnI2NhbmNlbF9lbWFpbF9zdWJqZWN0JykuY2xvc2VzdCgndHInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIG1haWxUYWIuZmluZCgnI2NhbmNlbF9tYWlsX2Zyb21fbmFtZScpLmNsb3Nlc3QoJ3RyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICBtYWlsVGFiLmZpbmQoJyNjYW5jZWxfbWFpbF9hZG1pbl9lbWFpbCcpLmNsb3Nlc3QoJ3RyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICBtYWlsVGFiLmZpbmQoJyN3cC1vdmFfbWJfc2V0dGluZ19tYWlsX2NhbmNlbF9tYWlsX3RlbXBsYXRlLXdyYXAnKS5jbG9zZXN0KCd0cicpLnNob3coKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtYWlsVGFiLmZpbmQoJyNjYW5jZWxfZW1haWxfc3ViamVjdCcpLmNsb3Nlc3QoJ3RyJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICBtYWlsVGFiLmZpbmQoJyNjYW5jZWxfbWFpbF9mcm9tX25hbWUnKS5jbG9zZXN0KCd0cicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgbWFpbFRhYi5maW5kKCcjY2FuY2VsX21haWxfYWRtaW5fZW1haWwnKS5jbG9zZXN0KCd0cicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgbWFpbFRhYi5maW5kKCcjd3Atb3ZhX21iX3NldHRpbmdfbWFpbF9jYW5jZWxfbWFpbF90ZW1wbGF0ZS13cmFwJykuY2xvc2VzdCgndHInKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG1iX2FkZF9zZWF0X21hcDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBTYXZlIFJvb21cbiAgICAgICAgICAgICQoJ2Zvcm1bbmFtZT1cInBvc3RcIl0gI3Bvc3RzdHVmZiBpbnB1dFt0eXBlPVwic3VibWl0XCJdJykub24oICdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9zdFR5cGUgPSAkKHRoaXMpLmNsb3Nlc3QoJ2Zvcm1bbmFtZT1cInBvc3RcIl0nKS5maW5kKCdpbnB1dFtuYW1lPVwicG9zdF90eXBlXCJdJykudmFsKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHBvc3RUeXBlID09PSAncm9vbScgKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb29tQ29kZSA9ICQodGhpcykuY2xvc2VzdCgnZm9ybVtuYW1lPVwicG9zdFwiXScpLmZpbmQoJy5tYl9yb29tX2RldGFpbCAub3ZhX3JvdyBpbnB1dFtuYW1lPVwib3ZhX21iX3Jvb21fY29kZVwiXScpLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm9vbVR5cGUgPSAkKHRoaXMpLmNsb3Nlc3QoJ2Zvcm1bbmFtZT1cInBvc3RcIl0nKS5maW5kKCcubWJfcm9vbV9kZXRhaWwgLm92YV9yb3cgc2VsZWN0W25hbWU9XCJvdmFfbWJfcm9vbV90eXBlX2lkXCJdJykudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXBDb2RlICA9ICQodGhpcykuY2xvc2VzdCgnZm9ybVtuYW1lPVwicG9zdFwiXScpLmZpbmQoJy5tYl9yb29tX2RldGFpbCAub3ZhX3JvdyBpbnB1dFtuYW1lPVwib3ZhX21iX3Jvb21fc2hvcnRjb2RlX2ltZ19tYXBcIl0nKS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1TZWF0ID0gJCh0aGlzKS5jbG9zZXN0KCdmb3JtW25hbWU9XCJwb3N0XCJdJykuZmluZCgnLm1iX3Jvb21fZGV0YWlsIC5vdmFfcm93IC5pdGVtLXNlYXQnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1BcmVhID0gJCh0aGlzKS5jbG9zZXN0KCdmb3JtW25hbWU9XCJwb3N0XCJdJykuZmluZCgnLm1iX3Jvb21fZGV0YWlsIC5vdmFfcm93IC5pdGVtLWFyZWEnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIGl0ZW1TZWF0Lmxlbmd0aCA8PSAwICYmIGl0ZW1BcmVhLmxlbmd0aCA8PSAwICYmIHJvb21Db2RlICYmIHJvb21UeXBlICYmIG1hcENvZGUgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJ2Zvcm1bbmFtZT1cInBvc3RcIl0nKS5maW5kKCcubWJfcm9vbV9kZXRhaWwgLmJ0bl9hZGRfc2VhdF9tYXAgLmFkZF9zZWF0X21hcCcpLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gQWRkIG5ldyBTZWF0XG4gICAgICAgICAgICAkKCcubWJfcm9vbV9kZXRhaWwgLmFkZF9zZWF0X21hcCcpLm9uKCAnY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHZhciB0aGF0ID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLmJ0bl9hZGRfc2VhdF9tYXAnKS5maW5kKCcubWItbG9hZGluZycpLnNob3coKTtcbiAgICAgICAgICAgICAgICB2YXIgY291bnRfc2VhdCA9ICQoZG9jdW1lbnQpLmZpbmQoJy5tYl9yb29tX2RldGFpbCAuaXRlbS1zZWF0JykubGVuZ3RoO1xuICAgICAgICAgICAgICAgICQucG9zdCggYWpheF9vYmplY3QuYWpheF91cmwsIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnbWJfYWRkX3NlYXRfbWFwJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWpheF9ub25jZTogYWpheF9vYmplY3QuYWpheF9ub25jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50X3NlYXQ6IGNvdW50X3NlYXQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCcuYnRuX2FkZF9zZWF0X21hcCcpLmZpbmQoJy5tYi1sb2FkaW5nJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAkKCcubWJfcm9vbV9kZXRhaWwgLndyYXBfc2VhdF9tYXAnKS5hcHBlbmQocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBNQl9BZG1pbi5tYl9jb2xvcnBpY2tlcigpO1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVfc2VhdF9tYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgc29ydGFibGVfc2VhdF9tYXAoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBSZW1vdmUgU2VhdFxuICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlX3NlYXRfbWFwKCkge1xuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcucmVtb3ZlX3NlYXRfbWFwJywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcuaXRlbS1zZWF0JykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHNvcnRhYmxlX3NlYXRfbWFwKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW1vdmVfc2VhdF9tYXAoKTtcblxuICAgICAgICAgICAgLy8gU29ydCBTZWF0XG4gICAgICAgICAgICBmdW5jdGlvbiBzb3J0YWJsZV9zZWF0X21hcCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG5cbiAgICAgICAgICAgICAgICAkKCcubWJfcm9vbV9kZXRhaWwgLml0ZW0tc2VhdCcpLmVhY2goIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLnNlYXQtbWFwLWlkJykuYXR0cignbmFtZScsICdvdmFfbWJfcm9vbV9zZWF0c1snK2krJ11baWRdJyk7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLnNlYXQtbWFwLXByaWNlJykuYXR0cignbmFtZScsICdvdmFfbWJfcm9vbV9zZWF0c1snK2krJ11bcHJpY2VdJyk7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLnNlYXQtbWFwLXR5cGUnKS5hdHRyKCduYW1lJywgJ292YV9tYl9yb29tX3NlYXRzWycraSsnXVt0eXBlXScpO1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5zZWF0LW1hcC1kZXNjcmlwdGlvbicpLmF0dHIoJ25hbWUnLCAnb3ZhX21iX3Jvb21fc2VhdHNbJytpKyddW2Rlc2NyaXB0aW9uXScpO1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5zZWF0LW1hcC1jb2xvcicpLmF0dHIoJ25hbWUnLCAnb3ZhX21iX3Jvb21fc2VhdHNbJytpKyddW2NvbG9yXScpO1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFkZCBuZXcgQXJlYVxuICAgICAgICAgICAgJCgnLm1iX3Jvb21fZGV0YWlsIC5hZGRfYXJlYV9tYXAnKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB2YXIgdGhhdCA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5idG5fYWRkX3NlYXRfbWFwJykuZmluZCgnLm1iLWxvYWRpbmcnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgdmFyIGNvdW50QXJlYSA9ICQoZG9jdW1lbnQpLmZpbmQoJy5tYl9yb29tX2RldGFpbCAuaXRlbS1hcmVhJykubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgJC5wb3N0KCBhamF4X29iamVjdC5hamF4X3VybCwge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdtYl9hZGRfYXJlYV9tYXAnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhamF4X25vbmNlOiBhamF4X29iamVjdC5hamF4X25vbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRfYXJlYTogY291bnRBcmVhLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLmJ0bl9hZGRfYXJlYV9tYXAnKS5maW5kKCcubWItbG9hZGluZycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLm1iX3Jvb21fZGV0YWlsIC53cmFwX2FyZWFfbWFwJykuYXBwZW5kKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgTUJfQWRtaW4ubWJfY29sb3JwaWNrZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlX2FyZWFfbWFwKCk7XG4gICAgICAgICAgICAgICAgICAgIHNvcnRhYmxlX2FyZWFfbWFwKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlIEFyZWFcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZV9hcmVhX21hcCgpIHtcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnJlbW92ZV9hcmVhX21hcCcsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnLml0ZW0tYXJlYScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZV9hcmVhX21hcCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVtb3ZlX2FyZWFfbWFwKCk7XG5cbiAgICAgICAgICAgIC8vIFNvcnQgQXJlYVxuICAgICAgICAgICAgZnVuY3Rpb24gc29ydGFibGVfYXJlYV9tYXAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgICAgICAgICAgJCgnLm1iX3Jvb21fZGV0YWlsIC5pdGVtLWFyZWEnKS5lYWNoKCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5hcmVhLW1hcC1pZCcpLmF0dHIoJ25hbWUnLCAnb3ZhX21iX3Jvb21fYXJlYXNbJytpKyddW2lkXScpO1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5hcmVhLW1hcC1wcmljZScpLmF0dHIoJ25hbWUnLCAnb3ZhX21iX3Jvb21fYXJlYXNbJytpKyddW3ByaWNlXScpO1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5hcmVhLW1hcC1xdHknKS5hdHRyKCduYW1lJywgJ292YV9tYl9yb29tX2FyZWFzWycraSsnXVtxdHldJyk7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLmFyZWEtbWFwLXR5cGUnKS5hdHRyKCduYW1lJywgJ292YV9tYl9yb29tX2FyZWFzWycraSsnXVt0eXBlXScpO1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5hcmVhLW1hcC1kZXNjcmlwdGlvbicpLmF0dHIoJ25hbWUnLCAnb3ZhX21iX3Jvb21fYXJlYXNbJytpKyddW2Rlc2NyaXB0aW9uXScpO1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5hcmVhLW1hcC1jb2xvcicpLmF0dHIoJ25hbWUnLCAnb3ZhX21iX3Jvb21fYXJlYXNbJytpKyddW2NvbG9yXScpO1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgbWJfc2VsZWN0MjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoICQoJ3NlbGVjdC5tYl9zZWxlY3QyJykubGVuZ3RoID4gMCApIHtcbiAgICAgICAgICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSAkKCdzZWxlY3QubWJfc2VsZWN0MicpLmRhdGEoJ3BsYWNlaG9sZGVyJyk7XG4gICAgICAgICAgICAgICAgJCgnc2VsZWN0Lm1iX3NlbGVjdDInKS5zZWxlY3QyKHtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLFxuICAgICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJ2VsZW1lbnQnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgbWJfY29sb3JwaWNrZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCAkKCcubWItY29sb3JwaWNrZXInKS5sZW5ndGggPiAwICkge1xuICAgICAgICAgICAgICAgICQoJy5tYi1jb2xvcnBpY2tlcicpLndwQ29sb3JQaWNrZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBtYl9kYXRldGltZXBpY2tlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoICQoJyNtYl9kYXRldGltZXBpY2tlcl9jb25maWcnKS5sZW5ndGggPiAwICkge1xuICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSAkKCcjbWJfZGF0ZXRpbWVwaWNrZXJfY29uZmlnJyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgbGFuZ3VhZ2UsIGZpcnN0RGF5LCBkYXRlRm9ybWF0LCB0aW1lRm9ybWF0LCB0aW1lU3RlcCwgdGltZURlZmF1bHQ7XG5cbiAgICAgICAgICAgICAgICBsYW5ndWFnZSA9IGNvbmZpZy5kYXRhKCdsYW5ndWFnZScpO1xuICAgICAgICAgICAgICAgIGlmICggIWxhbmd1YWdlICkge1xuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZSA9ICdlbic7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJC5kYXRldGltZXBpY2tlci5zZXRMb2NhbGUoIGxhbmd1YWdlICk7XG5cbiAgICAgICAgICAgICAgICBmaXJzdERheSA9IGNvbmZpZy5kYXRhKCdmaXJzdC1kYXknKTtcblxuICAgICAgICAgICAgICAgIGlmICggISBmaXJzdERheSApIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3REYXkgPSAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICggZmlyc3REYXkgPT0gNyApIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3REYXkgPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBjb25maWcuZGF0YSgnZGF0ZS1mb3JtYXQnKTtcbiAgICAgICAgICAgICAgICBpZiAoICFkYXRlRm9ybWF0ICkge1xuICAgICAgICAgICAgICAgICAgICBkYXRlRm9ybWF0ID0gJ1ktbS1kJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2goIGRhdGVGb3JtYXQgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2QtbS1ZJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSAnREQtTU0tWSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbS9kL1knOlxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZUZvcm1hdCA9ICdNTS9ERC9ZJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdZLW0tZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlRm9ybWF0ID0gJ1ktTU0tREQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1kvbS9kJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSAnWS9NTS9ERCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSAnREQtTU0tWSc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGltZUZvcm1hdCA9IGNvbmZpZy5kYXRhKCd0aW1lLWZvcm1hdCcpO1xuICAgICAgICAgICAgICAgIGlmICggIXRpbWVGb3JtYXQgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVGb3JtYXQgPSAnSEg6bW0nO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICggdGltZUZvcm1hdCA9PSAnSDppJyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVGb3JtYXQgPSAnSEg6bW0nO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCB0aW1lRm9ybWF0ID09ICdnOmkgYScgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lRm9ybWF0ID0gJ2hoOm1tIGEnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCB0aW1lRm9ybWF0ID09ICdnOmkgQScgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lRm9ybWF0ID0gJ2hoOm1tIEEnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGltZUZvcm1hdCA9ICdoaDptbSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aW1lU3RlcCA9IGNvbmZpZy5kYXRhKCd0aW1lLXN0ZXAnKTtcbiAgICAgICAgICAgICAgICBpZiAoICF0aW1lU3RlcCApIHtcbiAgICAgICAgICAgICAgICAgICAgdGltZVN0ZXAgPSAxNTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aW1lRGVmYXVsdCA9IGNvbmZpZy5kYXRhKCd0aW1lLWRlZmF1bHQnKTtcbiAgICAgICAgICAgICAgICBpZiAoICF0aW1lRGVmYXVsdCApIHtcbiAgICAgICAgICAgICAgICAgICAgdGltZURlZmF1bHQgPSAnMDA6MDAnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgICAgICAgICAkLmRhdGV0aW1lcGlja2VyLnNldERhdGVGb3JtYXR0ZXIoe1xuICAgICAgICAgICAgICAgICAgICBwYXJzZURhdGU6IGZ1bmN0aW9uIChkYXRlLCBmb3JtYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkID0gbW9tZW50KGRhdGUsIGZvcm1hdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5pc1ZhbGlkKCkgPyBkLnRvRGF0ZSgpIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXREYXRlOiBmdW5jdGlvbiAoZGF0ZSwgZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9tZW50KGRhdGUpLmZvcm1hdChmb3JtYXQpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gRGF0ZVxuICAgICAgICAgICAgICAgICQoJ2lucHV0Lm1iX2RhdGVwaWNrZXInKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGVQaWNrZXJPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF5T2ZXZWVrU3RhcnQ6IGZpcnN0RGF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluRGF0ZTogdG9kYXksXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXREYXRlOiBkYXRlRm9ybWF0ICsgJyAnICsgdGltZUZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogZGF0ZUZvcm1hdCArICcgJyArIHRpbWVGb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRUaW1lOiB0aW1lRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFRpbWU6IHRpbWVEZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcDogdGltZVN0ZXAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lcGlja2VyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsTW9udGg6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsSW5wdXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5kYXRldGltZXBpY2tlcihkYXRlUGlja2VyT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBTaG93dGltZXMgRmlsdGVyXG4gICAgICAgICAgICAgICAgJCgnaW5wdXQubWJfZGF0ZXBpY2tlcl9maWx0ZXInKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGVQaWNrZXJPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF5T2ZXZWVrU3RhcnQ6IGZpcnN0RGF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0RGF0ZTogZGF0ZUZvcm1hdCArICcgJyArIHRpbWVGb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IGRhdGVGb3JtYXQgKyAnICcgKyB0aW1lRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0VGltZTogdGltZUZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRUaW1lOiB0aW1lRGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA6IHRpbWVTdGVwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXBpY2tlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbE1vbnRoOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbElucHV0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZGF0ZXRpbWVwaWNrZXIoZGF0ZVBpY2tlck9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJCgnaW5wdXQuZnJvbV9kYXRlLm1iX2RhdGVwaWNrZXJfZmlsdGVyJykub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZyb20gPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG8gICA9ICQodGhpcykuY2xvc2VzdCgnLm1iLXNob3d0aW1lcy1maWx0ZXInKS5maW5kKCdpbnB1dFtuYW1lPVwidG9cIl0nKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIGZyb20gKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkLnBvc3QoIGFqYXhfb2JqZWN0LmFqYXhfdXJsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnbWJfZGF0ZV9zaG93dGltZXNfZmlsdGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFqYXhfbm9uY2U6IGFqYXhfb2JqZWN0LmFqYXhfbm9uY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCByZXNwb25zZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG8udmFsKCByZXNwb25zZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAkKCdpbnB1dC50b19kYXRlLm1iX2RhdGVwaWNrZXJfZmlsdGVyJykub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZVBpY2tlck9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXlPZldlZWtTdGFydDogZmlyc3REYXksXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXREYXRlOiBkYXRlRm9ybWF0ICsgJyAnICsgdGltZUZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogZGF0ZUZvcm1hdCArICcgJyArIHRpbWVGb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRUaW1lOiB0aW1lRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFRpbWU6IHRpbWVEZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcDogdGltZVN0ZXAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lcGlja2VyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsTW9udGg6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsSW5wdXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZyb20gPSAkKHRoaXMpLmNsb3Nlc3QoJy5tYi1zaG93dGltZXMtZmlsdGVyJykuZmluZCggJ2lucHV0W25hbWU9XCJmcm9tXCJdJyApLnZhbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggZnJvbSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVQaWNrZXJPcHRpb25zLm1pbkRhdGUgPSBmcm9tO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5kYXRldGltZXBpY2tlcihkYXRlUGlja2VyT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQoJy5kYXRlcGlja2VyLXNob3d0aW1lcy1maWx0ZXIgLnJlbW92ZV9kYXRlJykub24oICdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5kYXRlcGlja2VyLXNob3d0aW1lcy1maWx0ZXInKS5maW5kKCcubWJfZGF0ZXBpY2tlcl9maWx0ZXInKS52YWwoJycpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbWJfY3JlYXRlX3RheG9ub215X3JlbG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCcjc3VibWl0Jykub24oICdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdmFyIHRheG9ub215ID0gJCh0aGlzKS5jbG9zZXN0KCdmb3JtI2FkZHRhZycpLmZpbmQoJ2lucHV0W25hbWU9XCJ0YXhvbm9teVwiXScpLnZhbCgpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICggdGF4b25vbXkgPT09ICdtb3ZpZV9sb2NhdGlvbicgKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnZm9ybSNhZGR0YWcnKS5maW5kKCdzZWxlY3RbbmFtZT1cInBhcmVudFwiXScpLm9uKCAnRE9NU3VidHJlZU1vZGlmaWVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbWJfY2hhbmdlX2NpdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgnLm1iX3Nob3d0aW1lX2RldGFpbCBzZWxlY3RbbmFtZT1cIm92YV9tYl9zaG93dGltZV9jaXR5X2lkXCJdJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciB0aGF0ICAgID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgY2l0eV9pZCA9IHRoYXQudmFsKCk7XG4gICAgICAgICAgICAgICAgdmFyIHZlbnVlICAgPSB0aGF0LmNsb3Nlc3QoJy5tYl9zaG93dGltZV9kZXRhaWwnKS5maW5kKCdzZWxlY3RbbmFtZT1cIm92YV9tYl9zaG93dGltZV92ZW51ZV9pZFwiXScpO1xuICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLm1iX3Nob3d0aW1lX2RldGFpbCcpLmZpbmQoJy5tYi1sb2FkaW5nJykuY3NzKCdkaXNwbGF5JywgJ2lubGluZS1ibG9jaycpO1xuXG4gICAgICAgICAgICAgICAgJC5wb3N0KCBhamF4X29iamVjdC5hamF4X3VybCwge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdtYl9jaGFuZ2VfY2l0eScsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFqYXhfbm9uY2U6IGFqYXhfb2JqZWN0LmFqYXhfbm9uY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXR5X2lkOiBjaXR5X2lkLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLm1iX3Nob3d0aW1lX2RldGFpbCcpLmZpbmQoJy5tYi1sb2FkaW5nJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5tYl9zaG93dGltZV9kZXRhaWwnKS5maW5kKCcubWJfZ2VuZXJhdGVfdmVudWUnKS5odG1sKCcnKS5hcHBlbmQocmVzcG9uc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIE1CX0FkbWluLm1iX3NlbGVjdDIoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIG1iX2NvdXBvbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY291cG9uX3R5cGUoKTtcbiAgICAgICAgICAgIGNvdXBvbl9hZGRfbmV3KCk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNvdXBvbl9hZGRfbmV3KCkge1xuICAgICAgICAgICAgICAgICQoJy5tYl9tb3ZpZV9jb3Vwb25zIC5hZGRfY291cG9uJykub24oICdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGhhdCA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCcuYnRuX2FkZF9jb3Vwb24nKS5maW5kKCcubWItbG9hZGluZycpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50X2NvdXBvbiA9IHRoYXQuY2xvc2VzdCgnLm1iX21vdmllX2NvdXBvbnMnKS5maW5kKCcuY291cG9ucyAuY291cG9uc19pdGVtJykubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgICQucG9zdCggYWpheF9vYmplY3QuYWpheF91cmwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ21iX2FkZF9jb3Vwb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFqYXhfbm9uY2U6IGFqYXhfb2JqZWN0LmFqYXhfbm9uY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRfY291cG9uOiBjb3VudF9jb3Vwb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCcuYnRuX2FkZF9jb3Vwb24nKS5maW5kKCcubWItbG9hZGluZycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLm1iX21vdmllX2NvdXBvbnMnKS5maW5kKCcuY291cG9ucycpLmFwcGVuZChyZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRhYmxlX2NvdXBvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY291cG9uX3R5cGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZV9jb3Vwb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1CX0FkbWluLm1iX2RhdGV0aW1lcGlja2VyKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBjb3Vwb25fdHlwZSgpIHtcbiAgICAgICAgICAgICAgICAkKCcubWJfbW92aWVfY291cG9ucyBzZWxlY3QuY291cG9uX3R5cGUnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoYXQgPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggdGhhdC52YWwoKSA9PSAncGVyY2VudCcgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5jb3Vwb25zX2l0ZW0nKS5maW5kKCcub3ZhX3JvdycpLmhhcygnaW5wdXQuY291cG9uX3BlcmNlbnQnKS5jc3MoJ2Rpc3BsYXknLCAnZmxleCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCB0aGF0LnZhbCgpID09ICdhbW91bnQnICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCcuY291cG9uc19pdGVtJykuZmluZCgnLm92YV9yb3cnKS5oYXMoJ2lucHV0LmNvdXBvbl9hbW91bnQnKS5jc3MoJ2Rpc3BsYXknLCAnZmxleCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhhdC5vbiggJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAkKHRoaXMpLnZhbCgpID09ICdwZXJjZW50JyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5jb3Vwb25zX2l0ZW0nKS5maW5kKCcub3ZhX3JvdycpLmhhcygnaW5wdXQuY291cG9uX3BlcmNlbnQnKS5jc3MoJ2Rpc3BsYXknLCAnZmxleCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLmNvdXBvbnNfaXRlbScpLmZpbmQoJy5vdmFfcm93JykuaGFzKCdpbnB1dC5jb3Vwb25fYW1vdW50JykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoICQodGhpcykudmFsKCkgPT0gJ2Ftb3VudCcgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCcuY291cG9uc19pdGVtJykuZmluZCgnLm92YV9yb3cnKS5oYXMoJ2lucHV0LmNvdXBvbl9hbW91bnQnKS5jc3MoJ2Rpc3BsYXknLCAnZmxleCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLmNvdXBvbnNfaXRlbScpLmZpbmQoJy5vdmFfcm93JykuaGFzKCdpbnB1dC5jb3Vwb25fcGVyY2VudCcpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNvcnRhYmxlX2NvdXBvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG5cbiAgICAgICAgICAgICAgICAkKCcubWJfbW92aWVfY291cG9ucyAuY291cG9ucyAuY291cG9uc19pdGVtJykuZWFjaCggZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuY291cG9uX2NvZGUnKS5hdHRyKCduYW1lJywgJ292YV9tYl9tb3ZpZV9jb3Vwb25zWycraSsnXVtjb2RlXScpO1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5jb3Vwb25fc3RhcnQnKS5hdHRyKCduYW1lJywgJ292YV9tYl9tb3ZpZV9jb3Vwb25zWycraSsnXVtzdGFydF0nKTtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuY291cG9uX2VuZCcpLmF0dHIoJ25hbWUnLCAnb3ZhX21iX21vdmllX2NvdXBvbnNbJytpKyddW2VuZF0nKTtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuY291cG9uX3R5cGUnKS5hdHRyKCduYW1lJywgJ292YV9tYl9tb3ZpZV9jb3Vwb25zWycraSsnXVt0eXBlXScpO1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5jb3Vwb25fcGVyY2VudCcpLmF0dHIoJ25hbWUnLCAnb3ZhX21iX21vdmllX2NvdXBvbnNbJytpKyddW3BlcmNlbnRdJyk7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLmNvdXBvbl9hbW91bnQnKS5hdHRyKCduYW1lJywgJ292YV9tYl9tb3ZpZV9jb3Vwb25zWycraSsnXVthbW91bnRdJyk7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLmNvdXBvbl9xdWFudGl0eScpLmF0dHIoJ25hbWUnLCAnb3ZhX21iX21vdmllX2NvdXBvbnNbJytpKyddW3F1YW50aXR5XScpO1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZV9jb3Vwb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnLm1iX21vdmllX2NvdXBvbnMgLmNvdXBvbnMnKS5vbignY2xpY2snLCAnLnJlbW92ZV9jb3Vwb24nLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5jb3Vwb25zX2l0ZW0nKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgc29ydGFibGVfY291cG9uKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgbWJfdXBsb2FkX2ltYWdlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCcjbWFpbCAudXBsb2FkX2ltYWdlX2J0bicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdGhhdCA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZmlsZV9mcmFtZSkgZmlsZV9mcmFtZS5jbG9zZSgpO1xuXG4gICAgICAgICAgICAgICAgZmlsZV9mcmFtZSA9IHdwLm1lZGlhLmZyYW1lcy5maWxlX2ZyYW1lID0gd3AubWVkaWEoe1xuICAgICAgICAgICAgICAgICAgIG11bHRpcGxlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZmlsZV9mcmFtZS5vbignc2VsZWN0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBmaWxlX2ZyYW1lLnN0YXRlKCkuZ2V0KCdzZWxlY3Rpb24nKTtcblxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb24ubWFwKGZ1bmN0aW9uKGF0dGFjaG1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnQgPSBhdHRhY2htZW50LnRvSlNPTigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGF0dGFjaG1lbnQuc2l6ZXMudGh1bWJuYWlsICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLm1iLXVwbG9hZCcpLmZpbmQoJ2ltZycpLmF0dHIoICdzcmMnLCBhdHRhY2htZW50LnNpemVzLnRodW1ibmFpbC51cmwgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5tYi11cGxvYWQnKS5maW5kKCdpbWcnKS5hdHRyKCAnYWx0JywgYXR0YWNobWVudC5hbHQgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5tYi11cGxvYWQnKS5maW5kKCcjdGlja2V0X2xvZ28nKS52YWwoYXR0YWNobWVudC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLm1iLXVwbG9hZCcpLmZpbmQoJ2ltZycpLmF0dHIoICdzcmMnLCAnJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLm1iLXVwbG9hZCcpLmZpbmQoJyN0aWNrZXRfbG9nbycpLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBmaWxlX2ZyYW1lLm9wZW4odGhhdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbWJfcmVtb3ZlX3VwbG9hZF9pbWFnZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vbiggJ2NsaWNrJywnI21haWwgLnJlbW92ZV9pbWFnZV9idG4nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHRoYXQgICAgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBhbnN3ZXIgID0gY29uZmlybSgnQXJlIHlvdSBzdXJlPycpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBhbnN3ZXIgPT0gdHJ1ZSApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCcubWItdXBsb2FkJykuZmluZCgnaW1nJykuYXR0ciggJ3NyYycsICcnICk7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLm1iLXVwbG9hZCcpLmZpbmQoJyN0aWNrZXRfbG9nbycpLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbWJfY3JlYXRlX2Jvb2tpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgnZm9ybSNwb3N0ICNwb3N0c3R1ZmYgaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpLm9uKCAnY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJvb2tpbmdEZXRhaWwgICA9ICQodGhpcykuY2xvc2VzdCgnI3Bvc3RzdHVmZicpLmZpbmQoJy5tYl9ib29raW5nX2RldGFpbCcpO1xuICAgICAgICAgICAgICAgIHZhciBtb3ZpZUlEICAgICAgICAgPSBib29raW5nRGV0YWlsLmZpbmQoJ3NlbGVjdFtuYW1lPVwib3ZhX21iX2Jvb2tpbmdfbW92aWVfaWRcIl0nKS52YWwoKTtcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZSAgICAgICAgICAgID0gYm9va2luZ0RldGFpbC5maW5kKCdzZWxlY3RbbmFtZT1cIm92YV9tYl9ib29raW5nX2RhdGVcIl0nKS52YWwoKTtcbiAgICAgICAgICAgICAgICB2YXIgcm9vbSAgICAgICAgICAgID0gYm9va2luZ0RldGFpbC5maW5kKCdzZWxlY3RbbmFtZT1cIm92YV9tYl9ib29raW5nX3Jvb21faWRcIl0nKS52YWwoKTtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdHVzICAgICAgICAgID0gYm9va2luZ0RldGFpbC5maW5kKCdzZWxlY3RbbmFtZT1cIm92YV9tYl9ib29raW5nX3N0YXR1c1wiXScpLnZhbCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBib29raW5nRGV0YWlsLmxlbmd0aCA+IDAgJiYgbW92aWVJRCAmJiBkYXRlICYmIHJvb20gJiYgc3RhdHVzICkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSBib29raW5nRGV0YWlsLmZpbmQoJy5tYi1lcnJvcicpLm5vdCgnLm1iLWVycm9yLWRpc2NvdW50Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU2VhdHNcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlYXRzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGJvb2tpbmdEZXRhaWwuZmluZCgnLnNlYXRzIC5zZWF0OmNoZWNrZWQnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXRzLnB1c2goICQodGhpcykudmFsKCkgKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQXJlYXNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZWFzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGJvb2tpbmdEZXRhaWwuZmluZCgnLmFyZWFzIC5hcmVhOmNoZWNrZWQnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZWFzLnB1c2goICQodGhpcykudmFsKCkgKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCAoICEgc2VhdHMgfHwgISBzZWF0cy5sZW5ndGggKSAmJiAoICEgYXJlYXMgfHwgISBhcmVhcy5sZW5ndGggKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXNnID0gYm9va2luZ0RldGFpbC5maW5kKCcuc2VhdHMnKS5kYXRhKCdlcnJvcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3Iuc2hvdygpLmZpbmQoJ3NwYW4ubWVzZycpLmh0bWwobWVzZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKCcubWJfYm9va2luZ19kZXRhaWwnKS5vbiggJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLm1iX2NyZWF0ZV90aWNrZXQnKS5oaWRlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gTW92aWUgY2hhbmdlXG4gICAgICAgICAgICAkKCcubWJfYm9va2luZ19kZXRhaWwgLm1iX21vdmllcyBzZWxlY3RbbmFtZT1cIm92YV9tYl9ib29raW5nX21vdmllX2lkXCJdJykub24oICdjaGFuZ2UnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHRoYXQgICAgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBsb2FkaW5nID0gdGhhdC5jbG9zZXN0KCcubWJfYm9va2luZ19kZXRhaWwnKS5maW5kKCcubWItbG9hZGluZycpLmNzcygnZGlzcGxheScsICdpbmxpbmUtYmxvY2snKTtcblxuICAgICAgICAgICAgICAgIHZhciBtb3ZpZV9pZCA9IHRoYXQudmFsKCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgJC5wb3N0KCBhamF4X29iamVjdC5hamF4X3VybCwge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdtYl9hZGRfYm9va2luZ19zZWxlY3RfbW92aWUnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhamF4X25vbmNlOiBhamF4X29iamVjdC5hamF4X25vbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW92aWVfaWQ6IG1vdmllX2lkLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmcuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggcmVzcG9uc2UgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gSlNPTi5wYXJzZSggcmVzcG9uc2UgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2hvd3RpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLm1iX2Jvb2tpbmdfZGV0YWlsJykuZmluZCgnc2VsZWN0W25hbWU9XCJvdmFfbWJfYm9va2luZ19kYXRlXCJdJykuaHRtbChyZXN1bHQuaHRtbF9zaG93dGltZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaG93dGltZUlEID0gdGhhdC5jbG9zZXN0KCcubWJfYm9va2luZ19kZXRhaWwnKS5maW5kKCdzZWxlY3RbbmFtZT1cIm92YV9tYl9ib29raW5nX2RhdGVcIl0gb3B0aW9uOnNlbGVjdGVkJykuZGF0YSgnc2hvd3RpbWUtaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLm1iX2Jvb2tpbmdfZGV0YWlsJykuZmluZCgnaW5wdXRbbmFtZT1cIm92YV9tYl9ib29raW5nX3Nob3d0aW1lX2lkXCJdJykudmFsKHNob3d0aW1lSUQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSb29tXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5tYl9ib29raW5nX2RldGFpbCcpLmZpbmQoJ3NlbGVjdFtuYW1lPVwib3ZhX21iX2Jvb2tpbmdfcm9vbV9pZFwiXScpLmh0bWwocmVzdWx0Lmh0bWxfcm9vbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlYXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLm1iX2Jvb2tpbmdfZGV0YWlsJykuZmluZCgnLm1iX3NlYXRzIC5zZWF0cycpLmh0bWwocmVzdWx0Lmh0bWxfc2VhdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLm1iX2Jvb2tpbmdfZGV0YWlsJykuZmluZCgnLm1iX2FyZWFzIC5hcmVhcycpLmh0bWwocmVzdWx0Lmh0bWxfYXJlYSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTaG93dGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCcubWJfYm9va2luZ19kZXRhaWwnKS5maW5kKCdzZWxlY3RbbmFtZT1cIm92YV9tYl9ib29raW5nX2RhdGVcIl0nKS5odG1sKCcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUm9vbVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCcubWJfYm9va2luZ19kZXRhaWwnKS5maW5kKCdzZWxlY3RbbmFtZT1cIm92YV9tYl9ib29raW5nX3Jvb21faWRcIl0nKS5odG1sKCcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VhdFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCcubWJfYm9va2luZ19kZXRhaWwnKS5maW5kKCcubWJfc2VhdHMgLnNlYXRzJykuaHRtbCgnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLm1iX2Jvb2tpbmdfZGV0YWlsJykuZmluZCgnLm1iX2FyZWFzIC5hcmVhcycpLmh0bWwoJycpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIENhcnQgSW5mb1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVDYXJ0SW5mbygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIERhdGUgY2hhbmdlXG4gICAgICAgICAgICAkKCcubWJfYm9va2luZ19kZXRhaWwgLm1iX3Nob3d0aW1lcyBzZWxlY3RbbmFtZT1cIm92YV9tYl9ib29raW5nX2RhdGVcIl0nKS5vbiggJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdGhhdCAgICA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5tYl9ib29raW5nX2RldGFpbCcpLmZpbmQoJy5tYl9yb29tcyAubWItbG9hZGluZycpLmNzcygnZGlzcGxheScsICdpbmxpbmUtYmxvY2snKTtcbiAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5tYl9ib29raW5nX2RldGFpbCcpLmZpbmQoJy5tYl9zZWF0cyAubWItbG9hZGluZycpLmNzcygnZGlzcGxheScsICdpbmxpbmUtYmxvY2snKTtcblxuICAgICAgICAgICAgICAgIHZhciBzaG93dGltZUlEID0gdGhhdC5maW5kKCdvcHRpb246c2VsZWN0ZWQnKS5kYXRhKCdzaG93dGltZS1pZCcpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICQucG9zdCggYWpheF9vYmplY3QuYWpheF91cmwsIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnbWJfYWRkX2Jvb2tpbmdfY2hhbmdlX2RhdGUnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhamF4X25vbmNlOiBhamF4X29iamVjdC5hamF4X25vbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd3RpbWVfaWQ6IHNob3d0aW1lSUQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCcubWJfYm9va2luZ19kZXRhaWwnKS5maW5kKCcubWJfcm9vbXMgLm1iLWxvYWRpbmcnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLm1iX2Jvb2tpbmdfZGV0YWlsJykuZmluZCgnLm1iX3NlYXRzIC5tYi1sb2FkaW5nJykuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggcmVzcG9uc2UgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gSlNPTi5wYXJzZSggcmVzcG9uc2UgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUm9vbVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCcubWJfYm9va2luZ19kZXRhaWwnKS5maW5kKCdzZWxlY3RbbmFtZT1cIm92YV9tYl9ib29raW5nX3Jvb21faWRcIl0nKS5odG1sKHJlc3VsdC5odG1sX3Jvb20pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZWF0XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5tYl9ib29raW5nX2RldGFpbCcpLmZpbmQoJy5tYl9zZWF0cyAuc2VhdHMnKS5odG1sKHJlc3VsdC5odG1sX3NlYXQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5tYl9ib29raW5nX2RldGFpbCcpLmZpbmQoJy5tYl9hcmVhcyAuYXJlYXMnKS5odG1sKHJlc3VsdC5odG1sX2FyZWEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUm9vbVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCcubWJfYm9va2luZ19kZXRhaWwnKS5maW5kKCdzZWxlY3RbbmFtZT1cIm92YV9tYl9ib29raW5nX3Jvb21faWRcIl0nKS5odG1sKCcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VhdFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCcubWJfYm9va2luZ19kZXRhaWwnKS5maW5kKCcubWJfc2VhdHMgLnNlYXRzJykuaHRtbCgnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLm1iX2Jvb2tpbmdfZGV0YWlsJykuZmluZCgnLm1iX2FyZWFzIC5hcmVhcycpLmh0bWwocmVzdWx0Lmh0bWxfYXJlYSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5tYl9ib29raW5nX2RldGFpbCcpLmZpbmQoJ2lucHV0W25hbWU9XCJvdmFfbWJfYm9va2luZ19zaG93dGltZV9pZFwiXScpLnZhbChzaG93dGltZUlEKTtcblxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVDYXJ0SW5mbygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFJvb20gY2hhbmdlXG4gICAgICAgICAgICAkKCcubWJfYm9va2luZ19kZXRhaWwgLm1iX3Jvb21zIHNlbGVjdFtuYW1lPVwib3ZhX21iX2Jvb2tpbmdfcm9vbV9pZFwiXScpLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIHZhciB0aGF0ICAgID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgbG9hZGluZyA9IHRoYXQuY2xvc2VzdCgnLm1iX2Jvb2tpbmdfZGV0YWlsJykuZmluZCgnLm1iX3NlYXRzIC5tYi1sb2FkaW5nJykuY3NzKCdkaXNwbGF5JywgJ2lubGluZS1ibG9jaycpO1xuICAgICAgICAgICAgICAgIHZhciByb29tSUQgID0gdGhhdC52YWwoKTtcblxuICAgICAgICAgICAgICAgICQucG9zdCggYWpheF9vYmplY3QuYWpheF91cmwsIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnbWJfYWRkX2Jvb2tpbmdfY2hhbmdlX3Jvb20nLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhamF4X25vbmNlOiBhamF4X29iamVjdC5hamF4X25vbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm9vbV9pZDogcm9vbUlELFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmcuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggcmVzcG9uc2UgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gSlNPTi5wYXJzZSggcmVzcG9uc2UgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VhdFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCcubWJfYm9va2luZ19kZXRhaWwnKS5maW5kKCcubWJfc2VhdHMgLnNlYXRzJykuaHRtbChyZXN1bHQuaHRtbF9zZWF0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCcubWJfYm9va2luZ19kZXRhaWwnKS5maW5kKCcubWJfYXJlYXMgLmFyZWFzJykuaHRtbChyZXN1bHQuaHRtbF9hcmVhKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlYXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLm1iX2Jvb2tpbmdfZGV0YWlsJykuZmluZCgnLm1iX3NlYXRzIC5zZWF0cycpLmh0bWwoJycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5tYl9ib29raW5nX2RldGFpbCcpLmZpbmQoJy5tYl9hcmVhcyAuYXJlYXMnKS5odG1sKHJlc3VsdC5odG1sX2FyZWEpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ2FydEluZm8oKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBTZWF0XG4gICAgICAgICAgICBpZiAoICEgJCgnLm1iX2Jvb2tpbmdfZGV0YWlsJykuZmluZCgnLm1iX3NlYXRzIC5zZWF0cyAuc2VhdDpjaGVja2VkJykudmFsKCkgKSB7XG4gICAgICAgICAgICAgICAgJCgnLm1iX2Jvb2tpbmdfZGV0YWlsJykuZmluZCgnLm1iX2NhcnQgLmNhcnQtZGV0YWlsIC5jYXJ0LWl0ZW0nKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNlbGVjdCBTZWF0XG4gICAgICAgICAgICAkKCcubWJfYm9va2luZ19kZXRhaWwgLm1iX3NlYXRzIC5zZWF0cycpLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIHZhciBib29raW5nRGV0YWlsID0gJCgnLm1iX2Jvb2tpbmdfZGV0YWlsJyk7XG5cbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5tYl9ib29raW5nX2RldGFpbCcpLmZpbmQoJy5vdmFfcm93Lm1iLWVycm9yJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnLm1iX2Jvb2tpbmdfZGV0YWlsJykuZmluZCgnLm92YV9yb3cubWItZXJyb3IgLm1lc2cnKS5odG1sKCcnKTtcblxuICAgICAgICAgICAgICAgIC8vIFNlYXRzXG4gICAgICAgICAgICAgICAgdmFyIHNlYXRzICAgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgcHJpY2VzICA9IFtdO1xuICAgICAgICAgICAgICAgIGJvb2tpbmdEZXRhaWwuZmluZCgnLm1iX3NlYXRzIC5zZWF0cyAuc2VhdDpjaGVja2VkJykuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlYXRzLnB1c2goICQodGhpcykudmFsKCkgKTtcbiAgICAgICAgICAgICAgICAgICAgcHJpY2VzLnB1c2goICQodGhpcykuZGF0YSgncHJpY2UnKSApO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBzZWF0cy5sZW5ndGggPiAwICkge1xuICAgICAgICAgICAgICAgICAgICBib29raW5nRGV0YWlsLmZpbmQoJy5tYl9jYXJ0IC5jYXJ0LWRldGFpbCAuY2FydC1pdGVtJykuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWF0SFRNTCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IHNlYXRzLmxlbmd0aDsgaSsrICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VhdEhUTUwgKz0gJzxzcGFuPicgKyBzZWF0c1tpXSArICc8L3NwYW4+JztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGJvb2tpbmdEZXRhaWwuZmluZCgnLm1iX2NhcnQgLmNhcnQtZGV0YWlsIC5zZWF0JykuaHRtbChzZWF0SFRNTCk7XG4gICAgICAgICAgICAgICAgICAgIGJvb2tpbmdEZXRhaWwuZmluZCgnLm1iX2NhcnQgLmNhcnQtZGV0YWlsIC5jYXJ0LWVycm9yJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJvb2tpbmdEZXRhaWwuZmluZCgnLm1iX2NhcnQgLmNhcnQtZGV0YWlsIC5jYXJ0LWl0ZW0nKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJvb2tpbmdEZXRhaWwuZmluZCgnLm1iX2NhcnQgLmNhcnQtZGV0YWlsIC5jYXJ0LWl0ZW0gLnNlYXQnKS5odG1sKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgYm9va2luZ0RldGFpbC5maW5kKCcubWJfY2FydCAuY2FydC1kZXRhaWwgLmNhcnQtaXRlbSAubWItcHJpY2UnKS5odG1sKCcnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB1cGRhdGVDYXJ0KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgnLm1iX2Jvb2tpbmdfZGV0YWlsIC5tYl9hcmVhcyAuYXJlYXMnKS5vbiggJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgYm9va2luZ0RldGFpbCA9ICQoJy5tYl9ib29raW5nX2RldGFpbCcpO1xuXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcubWJfYm9va2luZ19kZXRhaWwnKS5maW5kKCcub3ZhX3Jvdy5tYi1lcnJvcicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5tYl9ib29raW5nX2RldGFpbCcpLmZpbmQoJy5vdmFfcm93Lm1iLWVycm9yIC5tZXNnJykuaHRtbCgnJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBBcmVhc1xuICAgICAgICAgICAgICAgIHZhciBhcmVhcyA9IHt9LCBhcmVhUXR5ID0ge307XG4gICAgICAgICAgICAgICAgYm9va2luZ0RldGFpbC5maW5kKCcubWJfYXJlYXMgLmFyZWFzIC5hcmVhOmNoZWNrZWQnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRRdHkgPSBib29raW5nRGV0YWlsLmZpbmQoJ2lucHV0W25hbWU9XCJvdmFfbWJfYm9va2luZ19hcmVhX3F0eVsnKyQodGhpcykudmFsKCkrJ11cIl0nKS52YWwoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIHBhcnNlSW50KCBjdXJyZW50UXR5ICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmVhUXR5WyQodGhpcykudmFsKCldID0gcGFyc2VJbnQoIGN1cnJlbnRRdHkgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRRdHkgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJlYVF0eVskKHRoaXMpLnZhbCgpXSA9IGN1cnJlbnRRdHk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBhcmVhc1skKHRoaXMpLnZhbCgpXSA9IHBhcnNlRmxvYXQoICQodGhpcykuZGF0YSgncHJpY2UnKSApICogcGFyc2VJbnQoIGN1cnJlbnRRdHkgKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhcmVhcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoICEgJC5pc0VtcHR5T2JqZWN0KCBhcmVhcyApICkge1xuICAgICAgICAgICAgICAgICAgICBib29raW5nRGV0YWlsLmZpbmQoJy5tYl9jYXJ0IC5jYXJ0LWRldGFpbCAuY2FydC1hcmVhLWl0ZW0nKS5zaG93KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZWFIVE1MID0gJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGFyZWFzLCBmdW5jdGlvbiggYXJlYUlELCBhcmVhUHJpY2UgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmVhSFRNTCArPSAnPGRpdiBjbGFzcz1cImFyZWEtaXRlbVwiIGRhdGEtYXJlYS1pZD1cIicrYXJlYUlEKydcIiBkYXRhLWFyZWEtcHJpY2U9XCInK2FyZWFQcmljZSsnXCIgZGF0YS1hcmVhLXF0eT1cIjFcIj4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZWFIVE1MICs9ICc8ZGl2IGNsYXNzPVwiYXJlYS1pZFwiPjxzcGFuPicrYXJlYUlEKyc8L3NwYW4+PC9kaXY+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmVhSFRNTCArPSAnPGRpdiBjbGFzcz1cImFyZWEtcXR5XCI+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlYUhUTUwgKz0gJzxzcGFuIGNsYXNzPVwiYXJlYS1taW51c1wiPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmVhSFRNTCArPSAnPHNwYW4gY2xhc3M9XCJkYXNoaWNvbnMgZGFzaGljb25zLW1pbnVzXCI+PC9zcGFuPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZWFIVE1MICs9ICc8L3NwYW4+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlYUhUTUwgKz0gJzxzcGFuIGNsYXNzPVwicXR5XCI+JythcmVhUXR5W2FyZWFJRF0rJzwvc3Bhbj4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmVhSFRNTCArPSAnPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwib3ZhX21iX2Jvb2tpbmdfYXJlYV9xdHlbJythcmVhSUQrJ11cIiB2YWx1ZT1cIicrYXJlYVF0eVthcmVhSURdKydcIj4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmVhSFRNTCArPSAnPHNwYW4gY2xhc3M9XCJhcmVhLXBsdXNcIj4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlYUhUTUwgKz0gJzxzcGFuIGNsYXNzPVwiZGFzaGljb25zIGRhc2hpY29ucy1wbHVzLWFsdDJcIj48L3NwYW4+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlYUhUTUwgKz0gJzwvc3Bhbj4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZWFIVE1MICs9ICc8L2Rpdj4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZWFIVE1MICs9ICc8ZGl2IGNsYXNzPVwic3VidG90YWwgbWItcHJpY2VcIj4nK2NhcnRUb3RhbChwcmljZUluY2xUYXgoYXJlYVByaWNlKSkrJzwvZGl2Pic7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmVhSFRNTCArPSAnPC9kaXY+JztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgYm9va2luZ0RldGFpbC5maW5kKCcubWJfY2FydCAuY2FydC1kZXRhaWwgLmNhcnQtYXJlYS1pdGVtJykuaHRtbChhcmVhSFRNTCk7XG4gICAgICAgICAgICAgICAgICAgIGJvb2tpbmdEZXRhaWwuZmluZCgnLm1iX2NhcnQgLmNhcnQtZGV0YWlsIC5jYXJ0LWVycm9yJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJvb2tpbmdEZXRhaWwuZmluZCgnLm1iX2NhcnQgLmNhcnQtZGV0YWlsIC5jYXJ0LWFyZWEtaXRlbScpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB1cGRhdGVDYXJ0KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gRGlzY291bnRcbiAgICAgICAgICAgICQoJy5tYl9ib29raW5nX2RldGFpbCAuY2FydC1kZXRhaWwgLmNhcnQtZGlzY291bnQgLnN1Ym1pdC1kaXNjb3VudCcpLm9uKCAnY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGRpc2NvdW50ID0gJCh0aGlzKS5jbG9zZXN0KCcuY2FydC1kaXNjb3VudCcpLmZpbmQoJ2lucHV0W25hbWU9XCJhZGRfZGlzY291bnRfY29kZVwiXScpLnZhbCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCAhIGRpc2NvdW50ICkge1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5jYXJ0LWRpc2NvdW50JykuZmluZCgnaW5wdXRbbmFtZT1cImFkZF9kaXNjb3VudF9jb2RlXCJdJykuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB1cGRhdGVEaXNjb3VudCgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEFyZWEgbWludXNcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcubWJfYm9va2luZ19kZXRhaWwgLmFyZWEtbWludXMnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCAkKHRoaXMpLmhhc0NsYXNzKCdkaXNhYmxlJykgKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudElEICAgPSAkKHRoaXMpLmNsb3Nlc3QoJy5hcmVhLWl0ZW0nKS5hdHRyKCdkYXRhLWFyZWEtaWQnKTtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFF0eSAgPSAkKHRoaXMpLmNsb3Nlc3QoJy5hcmVhLWl0ZW0nKS5hdHRyKCdkYXRhLWFyZWEtcXR5Jyk7XG4gICAgICAgICAgICAgICAgdmFyIGFyZWFQcmljZSAgID0gJCgnLm1iX2Jvb2tpbmdfZGV0YWlsJykuZmluZCgnLm1iX2FyZWFzIC5hcmVhcyBpbnB1dFtkYXRhLWlkPVwiJytjdXJyZW50SUQrJ1wiXScpLmRhdGEoJ3ByaWNlJyk7XG4gICAgICAgICAgICAgICAgdmFyIGFyZWFRdHkgICAgID0gJCgnLm1iX2Jvb2tpbmdfZGV0YWlsJykuZmluZCgnLm1iX2FyZWFzIC5hcmVhcyBpbnB1dFtkYXRhLWlkPVwiJytjdXJyZW50SUQrJ1wiXScpLmRhdGEoJ3F0eScpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhciBuZXdRdHkgPSBwYXJzZUludCggY3VycmVudFF0eSApIC0gMTtcblxuICAgICAgICAgICAgICAgIGlmICggbmV3UXR5ID09IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnLmFyZWEtaXRlbScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAkKCcubWJfYm9va2luZ19kZXRhaWwnKS5maW5kKCcubWJfYXJlYXMgLmFyZWFzIGlucHV0W2RhdGEtaWQ9XCInK2N1cnJlbnRJRCsnXCJdJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhcmVhUHJpY2UgPSBwYXJzZUZsb2F0KCBhcmVhUHJpY2UgKTtcblxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5hcmVhLWl0ZW0nKS5hdHRyKCdkYXRhLWFyZWEtcXR5JywgbmV3UXR5KTtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcuYXJlYS1pdGVtJykuYXR0cignZGF0YS1hcmVhLXByaWNlJywgYXJlYVByaWNlICogbmV3UXR5KTtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcuYXJlYS1pdGVtJykuZmluZCgnLnF0eScpLnRleHQobmV3UXR5KTtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcuYXJlYS1pdGVtJykuZmluZCgnaW5wdXRbbmFtZT1cIm92YV9tYl9ib29raW5nX2FyZWFfcXR5WycrY3VycmVudElEKyddXCJdJykudmFsKG5ld1F0eSk7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnLmFyZWEtaXRlbScpLmZpbmQoJy5tYi1wcmljZScpLmh0bWwoIGNhcnRUb3RhbCggcHJpY2VJbmNsVGF4KCBhcmVhUHJpY2UgKSAqIG5ld1F0eSApICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdXBkYXRlQ2FydCgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEFyZWEgcGx1c1xuICAgICAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5tYl9ib29raW5nX2RldGFpbCAuYXJlYS1wbHVzJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIGlmICggJCh0aGlzKS5oYXNDbGFzcygnZGlzYWJsZScpICkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRJRCAgID0gJCh0aGlzKS5jbG9zZXN0KCcuYXJlYS1pdGVtJykuYXR0cignZGF0YS1hcmVhLWlkJyk7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRRdHkgID0gJCh0aGlzKS5jbG9zZXN0KCcuYXJlYS1pdGVtJykuYXR0cignZGF0YS1hcmVhLXF0eScpO1xuICAgICAgICAgICAgICAgIHZhciBhcmVhUHJpY2UgICA9ICQoJy5tYl9ib29raW5nX2RldGFpbCcpLmZpbmQoJy5tYl9hcmVhcyAuYXJlYXMgaW5wdXRbZGF0YS1pZD1cIicrY3VycmVudElEKydcIl0nKS5kYXRhKCdwcmljZScpO1xuICAgICAgICAgICAgICAgIHZhciBhcmVhUXR5ICAgICA9ICQoJy5tYl9ib29raW5nX2RldGFpbCcpLmZpbmQoJy5tYl9hcmVhcyAuYXJlYXMgaW5wdXRbZGF0YS1pZD1cIicrY3VycmVudElEKydcIl0nKS5kYXRhKCdxdHknKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBhcmVhUHJpY2UgICA9IHBhcnNlRmxvYXQoIGFyZWFQcmljZSApO1xuICAgICAgICAgICAgICAgIHZhciBuZXdRdHkgID0gcGFyc2VJbnQoIGN1cnJlbnRRdHkgKSArIDE7XG5cbiAgICAgICAgICAgICAgICBpZiAoIG5ld1F0eSA9PSBwYXJzZUludCggYXJlYVF0eSApICkge1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5hcmVhLWl0ZW0nKS5maW5kKCcuYXJlYS1wbHVzJykuYWRkQ2xhc3MoJ2Rpc2FibGUnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5hcmVhLWl0ZW0nKS5hdHRyKCdkYXRhLWFyZWEtcXR5JywgbmV3UXR5KTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5hcmVhLWl0ZW0nKS5hdHRyKCdkYXRhLWFyZWEtcHJpY2UnLCBhcmVhUHJpY2UgKiBuZXdRdHkpO1xuICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnLmFyZWEtaXRlbScpLmZpbmQoJy5xdHknKS50ZXh0KG5ld1F0eSk7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcuYXJlYS1pdGVtJykuZmluZCgnaW5wdXRbbmFtZT1cIm92YV9tYl9ib29raW5nX2FyZWFfcXR5WycrY3VycmVudElEKyddXCJdJykudmFsKG5ld1F0eSk7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcuYXJlYS1pdGVtJykuZmluZCgnLm1iLXByaWNlJykuaHRtbCggY2FydFRvdGFsKCBwcmljZUluY2xUYXgoIGFyZWFQcmljZSApICogbmV3UXR5ICkgKTtcblxuICAgICAgICAgICAgICAgIHVwZGF0ZUNhcnQoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgQ2FydCBJbmZvXG4gICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVDYXJ0SW5mbygpIHtcbiAgICAgICAgICAgICAgICB2YXIgYm9va2luZ0RldGFpbCAgID0gJCgnLm1iX2Jvb2tpbmdfZGV0YWlsJyk7XG4gICAgICAgICAgICAgICAgdmFyIGNhcnRJbmZvICAgICAgICA9IGJvb2tpbmdEZXRhaWwuZmluZCgnLm1iX2NhcnQgLmNhcnQtaW5mbycpO1xuICAgICAgICAgICAgICAgIHZhciBjYXJ0RGlzY291bnQgICAgPSBib29raW5nRGV0YWlsLmZpbmQoJy5jYXJ0LWRpc2NvdW50Jyk7XG5cbiAgICAgICAgICAgICAgICAvLyBDYXJ0IEVycm9yXG4gICAgICAgICAgICAgICAgY2FydEluZm8uZmluZCgnLmNhcnQtZXJyb3InKS5zaG93KCk7XG5cbiAgICAgICAgICAgICAgICAvLyBTZWF0XG4gICAgICAgICAgICAgICAgY2FydEluZm8uZmluZCgnLmNhcnQtaXRlbSAuc2VhdCcpLmh0bWwoJycpO1xuICAgICAgICAgICAgICAgIGNhcnRJbmZvLmZpbmQoJy5jYXJ0LWl0ZW0gLm1iLXByaWNlJykuaHRtbCgnJyk7XG4gICAgICAgICAgICAgICAgY2FydEluZm8uZmluZCgnaW5wdXRbbmFtZT1cIm92YV9tYl9ib29raW5nX3F0eVwiXScpLnZhbCgwKTtcbiAgICAgICAgICAgICAgICBjYXJ0SW5mby5maW5kKCdpbnB1dFtuYW1lPVwib3ZhX21iX2Jvb2tpbmdfc3VidG90YWxcIl0nKS52YWwoMCk7XG5cbiAgICAgICAgICAgICAgICAvLyBBcmVhXG4gICAgICAgICAgICAgICAgY2FydEluZm8uZmluZCgnLmNhcnQtYXJlYS1pdGVtJykuaHRtbCgnJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBEaXNjb3VudFxuICAgICAgICAgICAgICAgIGNhcnRJbmZvLmZpbmQoJy50b3RhbC1kaXNjb3VudCcpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICBjYXJ0SW5mby5maW5kKCcudG90YWwtZGlzY291bnQgLm1iLXByaWNlJykuaHRtbCgnJyk7XG4gICAgICAgICAgICAgICAgY2FydEluZm8uZmluZCgnLnRvdGFsLWRpc2NvdW50IGlucHV0W25hbWU9XCJvdmFfbWJfYm9va2luZ19kaXNjb3VudFwiXScpLnZhbCgwKTtcbiAgICAgICAgICAgICAgICBjYXJ0SW5mby5maW5kKCcudG90YWwtZGlzY291bnQgaW5wdXRbbmFtZT1cIm92YV9tYl9ib29raW5nX2Rpc2NvdW50X2NvZGVcIl0nKS52YWwoMCk7XG4gICAgICAgICAgICAgICAgY2FydEluZm8uZmluZCgnLnRvdGFsLWRpc2NvdW50IGlucHV0W25hbWU9XCJvdmFfbWJfYm9va2luZ19kaXNjb3VudF90eXBlXCJdJykudmFsKCcnKTtcblxuICAgICAgICAgICAgICAgIC8vIFRheFxuICAgICAgICAgICAgICAgIGNhcnRJbmZvLmZpbmQoJy50b3RhbC10YXgnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgY2FydEluZm8uZmluZCgnLnRvdGFsLXRheCAubWItcHJpY2UnKS5odG1sKCcnKTtcbiAgICAgICAgICAgICAgICBjYXJ0SW5mby5maW5kKCcudG90YWwtdGF4IGlucHV0W25hbWU9XCJvdmFfbWJfYm9va2luZ190YXhcIl0nKS52YWwoJycpO1xuXG4gICAgICAgICAgICAgICAgLy8gVGlja2V0IEZlZVxuICAgICAgICAgICAgICAgIGNhcnRJbmZvLmZpbmQoJy50b3RhbC10aWNrZXQtZmVlJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIGNhcnRJbmZvLmZpbmQoJy50b3RhbC10aWNrZXQtZmVlIC5tYi1wcmljZScpLmh0bWwoJycpO1xuICAgICAgICAgICAgICAgIGNhcnRJbmZvLmZpbmQoJy50b3RhbC10aWNrZXQtZmVlIGlucHV0W25hbWU9XCJvdmFfbWJfYm9va2luZ190aWNrZXRfZmVlXCJdJykudmFsKCcnKTtcblxuICAgICAgICAgICAgICAgIC8vIFRvdGFsXG4gICAgICAgICAgICAgICAgY2FydEluZm8uZmluZCgnLmNhcnQtdG90YWwgLm1iLXByaWNlJykuaHRtbChjYXJ0VG90YWwoMCkpO1xuICAgICAgICAgICAgICAgIGNhcnRJbmZvLmZpbmQoJy5jYXJ0LXRvdGFsIGlucHV0W25hbWU9XCJvdmFfbWJfYm9va2luZ190b3RhbFwiXScpLnZhbCgwKTtcblxuICAgICAgICAgICAgICAgIC8vIERpc2NvdW50IGNvZGVcbiAgICAgICAgICAgICAgICBjYXJ0RGlzY291bnQuZmluZCgnaW5wdXRbbmFtZT1cImFkZF9kaXNjb3VudF9jb2RlXCJdJykudmFsKCcnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlXG4gICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVDYXJ0KCkge1xuICAgICAgICAgICAgICAgIHZhciBib29raW5nRGV0YWlsICAgPSAkKCcubWJfYm9va2luZ19kZXRhaWwnKTtcbiAgICAgICAgICAgICAgICB2YXIgY2FydERldGFpbCAgICAgID0gYm9va2luZ0RldGFpbC5maW5kKCcubWJfY2FydCAuY2FydC1kZXRhaWwnKTtcblxuICAgICAgICAgICAgICAgIC8vIENhcnQgRXJyb3JcbiAgICAgICAgICAgICAgICBjYXJ0RGV0YWlsLmZpbmQoJy5jYXJ0LWVycm9yJykuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsU2VhdCA9IDAsIHRvdGFsQXJlYSA9IDAsIHRvdGFsUXR5ID0gMDtcblxuICAgICAgICAgICAgICAgIC8vIEdldCBTZWF0c1xuICAgICAgICAgICAgICAgIHZhciBzZWF0cyA9IFtdO1xuICAgICAgICAgICAgICAgIGJvb2tpbmdEZXRhaWwuZmluZCgnLm1iX3NlYXRzIC5zZWF0cyAuc2VhdDpjaGVja2VkJykuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlYXRzLnB1c2goICQodGhpcykudmFsKCkgKTtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxRdHkgKz0gMTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VhdFByaWNlID0gJCh0aGlzKS5kYXRhKCdwcmljZScpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggc2VhdFByaWNlICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxTZWF0ICs9IHByaWNlSW5jbFRheCggcGFyc2VGbG9hdCggc2VhdFByaWNlICkgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gR2V0IEFyZWFzXG4gICAgICAgICAgICAgICAgdmFyIGFyZWFzID0gW107XG4gICAgICAgICAgICAgICAgY2FydERldGFpbC5maW5kKCcuY2FydC1hcmVhLWl0ZW0gLmFyZWEtaXRlbScpLmVhY2goIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBhcmVhcy5wdXNoKCAkKHRoaXMpLmF0dHIoJ2RhdGEtYXJlYS1pZCcpICk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZWFQcmljZSAgID0gJCh0aGlzKS5hdHRyKCdkYXRhLWFyZWEtcHJpY2UnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZWFRdHkgICAgID0gJCh0aGlzKS5hdHRyKCdkYXRhLWFyZWEtcXR5Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdG90YWxRdHkgKz0gcGFyc2VJbnQoIGFyZWFRdHkgKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIGFyZWFQcmljZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsQXJlYSArPSBwcmljZUluY2xUYXgoIHBhcnNlRmxvYXQoIGFyZWFQcmljZSApICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmICggc2VhdHMubGVuZ3RoID09IDAgJiYgYXJlYXMubGVuZ3RoID09IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNhcnRJbmZvKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFNob3cgdGF4LCB0aWNrZXQgZmVlLCBkaXNjb3VudFxuICAgICAgICAgICAgICAgIGNhcnREZXRhaWwuZmluZCgnLmNhcnQtZmVlJykuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgLy8gVG90YWxcbiAgICAgICAgICAgICAgICB2YXIgdG90YWwgPSBwYXJzZUZsb2F0KCB0b3RhbFNlYXQgKSArIHBhcnNlRmxvYXQoIHRvdGFsQXJlYSApO1xuXG4gICAgICAgICAgICAgICAgLy8gU2VhdHNcbiAgICAgICAgICAgICAgICBjYXJ0RGV0YWlsLmZpbmQoJ2lucHV0W25hbWU9XCJvdmFfbWJfYm9va2luZ19xdHlcIl0nKS52YWwodG90YWxRdHkpO1xuICAgICAgICAgICAgICAgIGNhcnREZXRhaWwuZmluZCgnaW5wdXRbbmFtZT1cIm92YV9tYl9ib29raW5nX3N1YnRvdGFsXCJdJykudmFsKCBwYXJzZUZsb2F0KHRvdGFsKSApO1xuICAgICAgICAgICAgICAgIGNhcnREZXRhaWwuZmluZCgnLmNhcnQtaXRlbSAuc3VidG90YWwnKS5odG1sKCBjYXJ0VG90YWwodG90YWxTZWF0KSApO1xuXG4gICAgICAgICAgICAgICAgLy8gRGlzY291bnRcbiAgICAgICAgICAgICAgICB2YXIgdG90YWxEaXNjb3VudCAgID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgZGlzY291bnRDb2RlICAgID0gY2FydERldGFpbC5maW5kKCdpbnB1dFtuYW1lPVwib3ZhX21iX2Jvb2tpbmdfZGlzY291bnRfY29kZVwiXScpLnZhbCgpO1xuICAgICAgICAgICAgICAgIHZhciBkaXNjb3VudFZhbHVlICAgPSBjYXJ0RGV0YWlsLmZpbmQoJ2lucHV0W25hbWU9XCJvdmFfbWJfYm9va2luZ19kaXNjb3VudF92YWx1ZVwiXScpLnZhbCgpO1xuICAgICAgICAgICAgICAgIHZhciBkaXNjb3VudFR5cGUgICAgPSBjYXJ0RGV0YWlsLmZpbmQoJ2lucHV0W25hbWU9XCJvdmFfbWJfYm9va2luZ19kaXNjb3VudF90eXBlXCJdJykudmFsKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoICEgZGlzY291bnRWYWx1ZSApIGRpc2NvdW50VmFsdWUgPSAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBkaXNjb3VudFZhbHVlICkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIGRpc2NvdW50VHlwZSA9PT0gJ3BlcmNlbnQnICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxEaXNjb3VudCA9ICggcGFyc2VGbG9hdChkaXNjb3VudFZhbHVlKSAqIHRvdGFsICkgLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIGRpc2NvdW50VHlwZSA9PT0gJ2Ftb3VudCcgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbERpc2NvdW50ID0gcGFyc2VGbG9hdChkaXNjb3VudFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNhcnREZXRhaWwuZmluZCgnaW5wdXRbbmFtZT1cIm92YV9tYl9ib29raW5nX2Rpc2NvdW50XCJdJykudmFsKHRvdGFsRGlzY291bnQpO1xuICAgICAgICAgICAgICAgIGNhcnREZXRhaWwuZmluZCgnLnRvdGFsLWRpc2NvdW50IC5kaWNvdW50LW51bWJlcicpLmh0bWwoIFwiLVwiK2NhcnRUb3RhbCh0b3RhbERpc2NvdW50KSApO1xuXG4gICAgICAgICAgICAgICAgdG90YWwgLT0gdG90YWxEaXNjb3VudDtcbiAgICAgICAgICAgICAgICBpZiAoIHRvdGFsIDwgMCApIHRvdGFsID0gMDtcblxuICAgICAgICAgICAgICAgIC8vIFRheCBGZWVcbiAgICAgICAgICAgICAgICB2YXIgdGF4RmVlICA9IGNhcnREZXRhaWwuZmluZCgnaW5wdXRbbmFtZT1cImNhcnQtZGF0YVwiXScpLmRhdGEoJ3RheC1mZWUnKTtcbiAgICAgICAgICAgICAgICB2YXIgdGF4VHlwZSA9IGNhcnREZXRhaWwuZmluZCgnaW5wdXRbbmFtZT1cImNhcnQtZGF0YVwiXScpLmRhdGEoJ3RheC10eXBlJyk7XG4gICAgICAgICAgICAgICAgaWYgKCAhIHRheEZlZSApIHRheEZlZSA9IDA7XG5cbiAgICAgICAgICAgICAgICAvLyBUaWNrZXQgRmVlXG4gICAgICAgICAgICAgICAgdmFyIHRpY2tldEZlZSAgICAgICA9IGNhcnREZXRhaWwuZmluZCgnaW5wdXRbbmFtZT1cImNhcnQtZGF0YVwiXScpLmRhdGEoJ3RpY2tldC1mZWUnKTtcbiAgICAgICAgICAgICAgICB2YXIgdGlja2V0RmVlVHlwZSAgID0gY2FydERldGFpbC5maW5kKCdpbnB1dFtuYW1lPVwiY2FydC1kYXRhXCJdJykuZGF0YSgndGlja2V0LWZlZS10eXBlJyk7XG4gICAgICAgICAgICAgICAgaWYgKCAhIHRpY2tldEZlZSApIHRpY2tldEZlZSA9IDA7IFxuXG4gICAgICAgICAgICAgICAgLy8gVGF4IEZlZVxuICAgICAgICAgICAgICAgIGxldCB0b3RhbFRheCA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHRheEZlZSApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCB0YXhUeXBlID09PSAncGVyY2VudCcgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFRheCA9ICggcGFyc2VGbG9hdCh0YXhGZWUpICogdG90YWwgKSAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICggdGF4VHlwZSA9PT0gJ2Ftb3VudCcgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFRheCA9IHBhcnNlRmxvYXQodGF4RmVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjYXJ0RGV0YWlsLmZpbmQoJy50YXgtbnVtYmVyJykuaHRtbChjYXJ0VG90YWwoIHRvdGFsVGF4ICkpO1xuICAgICAgICAgICAgICAgIGNhcnREZXRhaWwuZmluZCgnaW5wdXRbbmFtZT1cIm92YV9tYl9ib29raW5nX3RheFwiXScpLnZhbCh0b3RhbFRheCk7XG4gICAgICAgICAgICAgICAgLy8gRW5kXG5cbiAgICAgICAgICAgICAgICAvLyBUaWNrZXQgRmVlXG4gICAgICAgICAgICAgICAgbGV0IHRvdGFsVGlja2V0RmVlID0gMDtcblxuICAgICAgICAgICAgICAgIGlmICggdGlja2V0RmVlVHlwZSA9PT0gJ3BlcmNlbnQnICkge1xuICAgICAgICAgICAgICAgICAgICB0b3RhbFRpY2tldEZlZSA9ICggcGFyc2VGbG9hdCh0aWNrZXRGZWUpICogdG90YWwgKSAvIDEwMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIHRpY2tldEZlZVR5cGUgPT09ICdhbW91bnQnICkge1xuICAgICAgICAgICAgICAgICAgICB0b3RhbFRpY2tldEZlZSA9IHBhcnNlRmxvYXQodGlja2V0RmVlKSAqIHBhcnNlSW50KHRvdGFsUXR5KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYXJ0RGV0YWlsLmZpbmQoJy50aWNrZXQtZmVlLW51bWJlcicpLmh0bWwoY2FydFRvdGFsKHRvdGFsVGlja2V0RmVlKSk7XG4gICAgICAgICAgICAgICAgY2FydERldGFpbC5maW5kKCdpbnB1dFtuYW1lPVwib3ZhX21iX2Jvb2tpbmdfdGlja2V0X2ZlZVwiXScpLnZhbCh0b3RhbFRpY2tldEZlZSk7XG4gICAgICAgICAgICAgICAgLy8gRW5kXG5cbiAgICAgICAgICAgICAgICAvLyBUb3RhbFxuICAgICAgICAgICAgICAgIGNhcnREZXRhaWwuZmluZCgnLnRvdGFsLW51bWJlcicpLmh0bWwoIGNhcnRUb3RhbCggdG90YWwgKyB0b3RhbFRheCArIHRvdGFsVGlja2V0RmVlICkgKTtcbiAgICAgICAgICAgICAgICBjYXJ0RGV0YWlsLmZpbmQoJ2lucHV0W25hbWU9XCJvdmFfbWJfYm9va2luZ190b3RhbFwiXScpLnZhbCggcGFyc2VGbG9hdCh0b3RhbCkgKyB0b3RhbFRheCArIHRvdGFsVGlja2V0RmVlICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNhcnRUb3RhbCggdG90YWwgKSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbmN5U2V0dGluZ3MgPSAkKCcubWJfYm9va2luZ19kZXRhaWwgLm1iX2NhcnQgLmNhcnQtZGV0YWlsIGlucHV0W25hbWU9XCJjYXJ0LWRhdGFcIl0nKS5kYXRhKCdjdXJyZW5jeS1zZXR0aW5ncycpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBjdXJyZW5jeVNldHRpbmdzICkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVuY3kgICAgICAgICAgICA9IGN1cnJlbmN5U2V0dGluZ3MuY3VycmVuY3kgPyBjdXJyZW5jeVNldHRpbmdzLmN1cnJlbmN5IDogJyQnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVjaW1hbF9zZXBhcmF0b3IgICA9IGN1cnJlbmN5U2V0dGluZ3MuZGVjaW1hbF9zZXBhcmF0b3IgPyBjdXJyZW5jeVNldHRpbmdzLmRlY2ltYWxfc2VwYXJhdG9yIDogJy4nO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGhvdXNhbmRfc2VwYXJhdG9yICA9IGN1cnJlbmN5U2V0dGluZ3MudGhvdXNhbmRfc2VwYXJhdG9yID8gY3VycmVuY3lTZXR0aW5ncy50aG91c2FuZF9zZXBhcmF0b3IgOiAnLCc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1iZXJfZGVjaW1hbHMgICAgID0gY3VycmVuY3lTZXR0aW5ncy5udW1iZXJfZGVjaW1hbHMgPyBjdXJyZW5jeVNldHRpbmdzLm51bWJlcl9kZWNpbWFscyA6IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgdG90YWwgPSBwYXJzZUZsb2F0KCB0b3RhbCApLnRvRml4ZWQocGFyc2VJbnQobnVtYmVyX2RlY2ltYWxzKSk7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsID0gdG90YWwudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBkZWNpbWFsX3NlcGFyYXRvcik7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsID0gdG90YWwudG9TdHJpbmcoKS5yZXBsYWNlKC8oXFxkKSg/PShcXGRcXGRcXGQpKyg/IVxcZCkpL2csIFwiJDFcIiArIHRob3VzYW5kX3NlcGFyYXRvcik7XG5cblxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKCBjdXJyZW5jeVNldHRpbmdzLmN1cnJlbmN5X3Bvc2l0aW9uICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImxlZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IGN1cnJlbmN5ICsgdG90YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibGVmdF9zcGFjZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsID0gY3VycmVuY3kgKyBcIiBcIiArIHRvdGFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWwgPSB0b3RhbCArIGN1cnJlbmN5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJpZ2h0X3NwYWNlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWwgPSB0b3RhbCArIFwiIFwiICsgY3VycmVuY3k7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsID0gY3VycmVuY3kgKyB0b3RhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZURpc2NvdW50KCkge1xuICAgICAgICAgICAgICAgIHZhciBib29raW5nRGV0YWlsICAgPSAkKCcubWJfYm9va2luZ19kZXRhaWwnKTtcbiAgICAgICAgICAgICAgICB2YXIgY2FydERldGFpbCAgICAgID0gYm9va2luZ0RldGFpbC5maW5kKCcubWJfY2FydCAuY2FydC1kZXRhaWwnKTtcblxuICAgICAgICAgICAgICAgIHZhciBsb2FkaW5nICAgICAgICAgPSBjYXJ0RGV0YWlsLmZpbmQoJy5tYi1sb2FkaW5nJyk7XG4gICAgICAgICAgICAgICAgdmFyIGRpc2NvdW50X2NvZGUgICA9IGNhcnREZXRhaWwuZmluZCgnaW5wdXRbbmFtZT1cImFkZF9kaXNjb3VudF9jb2RlXCJdJykudmFsKCk7XG4gICAgICAgICAgICAgICAgdmFyIG1vdmllX2lkICAgICAgICA9IGJvb2tpbmdEZXRhaWwuZmluZCgnc2VsZWN0W25hbWU9XCJvdmFfbWJfYm9va2luZ19tb3ZpZV9pZFwiXScpLnZhbCgpO1xuICAgICAgICAgICAgICAgIHZhciBlcnJvciAgICAgICAgICAgPSBjYXJ0RGV0YWlsLmZpbmQoJy5tYi1lcnJvci5tYi1lcnJvci1kaXNjb3VudCcpO1xuICAgICAgICAgICAgICAgIGVycm9yLmhpZGUoKTtcbiAgICAgICAgICAgICAgICBsb2FkaW5nLmNzcygnZGlzcGxheScsICdpbmxpbmUtYmxvY2snKTtcblxuICAgICAgICAgICAgICAgICQucG9zdCggYWpheF9vYmplY3QuYWpheF91cmwsIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnbWJfYWRkX2Jvb2tpbmdfY2hlY2tfY291cG9uJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWpheF9ub25jZTogYWpheF9vYmplY3QuYWpheF9ub25jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmllSUQ6IG1vdmllX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRDb2RlOiBkaXNjb3VudF9jb2RlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICggcmVzcG9uc2UgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eXBlRGlzY291bnQgICAgPSByZXN1bHQudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZURpc2NvdW50ICAgPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29kZURpc2NvdW50ICAgID0gcmVzdWx0LmNvZGU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcnREZXRhaWwuZmluZCgnLnRvdGFsLWRpc2NvdW50IGlucHV0W25hbWU9XCJvdmFfbWJfYm9va2luZ19kaXNjb3VudF92YWx1ZVwiXScpLnZhbCggdmFsdWVEaXNjb3VudCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FydERldGFpbC5maW5kKCcudG90YWwtZGlzY291bnQgaW5wdXRbbmFtZT1cIm92YV9tYl9ib29raW5nX2Rpc2NvdW50X3R5cGVcIl0nKS52YWwoIHR5cGVEaXNjb3VudCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FydERldGFpbC5maW5kKCcudG90YWwtZGlzY291bnQgaW5wdXRbbmFtZT1cIm92YV9tYl9ib29raW5nX2Rpc2NvdW50X2NvZGVcIl0nKS52YWwoIGNvZGVEaXNjb3VudCApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FydERldGFpbC5maW5kKCcudG90YWwtZGlzY291bnQgaW5wdXRbbmFtZT1cIm92YV9tYl9ib29raW5nX2Rpc2NvdW50XCJdJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcnREZXRhaWwuZmluZCgnLnRvdGFsLWRpc2NvdW50IGlucHV0W25hbWU9XCJvdmFfbWJfYm9va2luZ19kaXNjb3VudF90eXBlXCJdJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcnREZXRhaWwuZmluZCgnLnRvdGFsLWRpc2NvdW50IGlucHV0W25hbWU9XCJvdmFfbWJfYm9va2luZ19kaXNjb3VudF9jb2RlXCJdJykudmFsKCcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBkaXNjb3VudF9jb2RlICYmIG1vdmllX2lkICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNhcnQoKTtcblxuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcHJpY2VJbmNsVGF4KCBwcmljZSApIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV0X3ByaWNlICAgPSBwcmljZTtcbiAgICAgICAgICAgICAgICB2YXIgY2FydERldGFpbCAgPSAkKCcubWJfYm9va2luZ19kZXRhaWwgLm1iX2NhcnQgLmNhcnQtZGV0YWlsJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIG5ldF9wcmljZSApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGF4IEZlZVxuICAgICAgICAgICAgICAgICAgICB2YXIgdGF4RmVlICA9IGNhcnREZXRhaWwuZmluZCgnaW5wdXRbbmFtZT1cImNhcnQtZGF0YVwiXScpLmRhdGEoJ3RheC1mZWUnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRheFR5cGUgPSBjYXJ0RGV0YWlsLmZpbmQoJ2lucHV0W25hbWU9XCJjYXJ0LWRhdGFcIl0nKS5kYXRhKCd0YXgtdHlwZScpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGF4SW5jbCA9IGNhcnREZXRhaWwuZmluZCgnaW5wdXRbbmFtZT1cImNhcnQtZGF0YVwiXScpLmRhdGEoJ3RheC1pbmNsJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCB0YXhGZWUgJiYgdGF4SW5jbCA9PSAneWVzJyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdGF4VHlwZSA9PT0gJ3BlcmNlbnQnICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWd1bGFyX3RheF9yYXRlICAgID0gMSArIHBhcnNlRmxvYXQodGF4RmVlKSAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhlX3JhdGUgICAgICAgICAgICA9ICggcGFyc2VGbG9hdCh0YXhGZWUpIC8gMTAwICkgLyByZWd1bGFyX3RheF9yYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldF9wcmljZSAgICAgICAgICAgICAgID0gcHJpY2UgLSAoIHRoZV9yYXRlICogcHJpY2UgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0YXhUeXBlID09PSAnYW1vdW50JyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXRfcHJpY2UgID0gcHJpY2UgLSBwYXJzZUZsb2F0KHRheEZlZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXRfcHJpY2UgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV0X3ByaWNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG1iX3Nob3d0aW1lc19maWx0ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gQ2l0eSBjaGFuZ2VcbiAgICAgICAgICAgICQoJy5tYi1zaG93dGltZXMtZmlsdGVyIHNlbGVjdFtuYW1lPVwiY2l0eV9pZFwiXScpLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoYXQgICAgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBjaXR5X2lkID0gdGhhdC52YWwoKTtcbiAgICAgICAgICAgICAgICB2YXIgdmVudWVzICA9IHRoYXQuY2xvc2VzdCgnLm1iLXNob3d0aW1lcy1maWx0ZXInKS5maW5kKCdzZWxlY3RbbmFtZT1cInZlbnVlX2lkXCJdJyk7XG5cbiAgICAgICAgICAgICAgICAkLnBvc3QoIGFqYXhfb2JqZWN0LmFqYXhfdXJsLCB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ21iX2NpdHlfc2hvd3RpbWVzX2ZpbHRlcicsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFqYXhfbm9uY2U6IGFqYXhfb2JqZWN0LmFqYXhfbm9uY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXR5X2lkOiBjaXR5X2lkLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICggcmVzcG9uc2UgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZW51ZXMuaHRtbCgnJykuYXBwZW5kKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbWJfc2hvd3RpbWVzX2FjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoIHR5cGVvZiBtYl9hZG1pbiAhPSAndW5kZWZpbmVkJyApIHtcbiAgICAgICAgICAgICAgICB2YXIgc2hvd3RpbWVQb3N0VHlwZSAgICA9ICQoJy5lZGl0LXBocC5wb3N0LXR5cGUtc2hvd3RpbWUnKTtcbiAgICAgICAgICAgICAgICB2YXIgdGl0bGVGaXJzdCAgICAgICAgICA9IHNob3d0aW1lUG9zdFR5cGUuZmluZCgnLnBhZ2UtdGl0bGUtYWN0aW9uOmZpcnN0Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIG1iX2FkbWluLnVybHMuZXhwb3J0X3Nob3d0aW1lcyAmJiBtYl9hZG1pbi5zdHJpbmdzLmV4cG9ydF9zaG93dGltZXMgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlRmlyc3QuYWZ0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGEgaHJlZj1cIicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgbWJfYWRtaW4udXJscy5leHBvcnRfc2hvd3RpbWVzICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcIiBjbGFzcz1cInBhZ2UtdGl0bGUtYWN0aW9uXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICBtYl9hZG1pbi5zdHJpbmdzLmV4cG9ydF9zaG93dGltZXMgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzwvYT4nXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCBtYl9hZG1pbi51cmxzLmltcG9ydF9zaG93dGltZXMgJiYgbWJfYWRtaW4uc3RyaW5ncy5pbXBvcnRfc2hvd3RpbWVzICkge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZUZpcnN0LmFmdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgJzxhIGhyZWY9XCInICtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1iX2FkbWluLnVybHMuaW1wb3J0X3Nob3d0aW1lcyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXCIgY2xhc3M9XCJwYWdlLXRpdGxlLWFjdGlvblwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgbWJfYWRtaW4uc3RyaW5ncy5pbXBvcnRfc2hvd3RpbWVzICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8L2E+J1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBtYl9jcmVhdGVfc2VuZF90aWNrZXRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBib29raW5nRGV0YWlsICAgPSAkKCcubWJfYm9va2luZ19kZXRhaWwnKTtcbiAgICAgICAgICAgIHZhciBjcmVhdGVUaWNrZXQgICAgPSAkKCcubWJfYm9va2luZ19kZXRhaWwnKS5maW5kKCcubWJfY3JlYXRlX3RpY2tldCcpO1xuICAgICAgICAgICAgdmFyIHBvc3RTdGF0dXMgICAgICA9IGJvb2tpbmdEZXRhaWwuZmluZCgnaW5wdXRbbmFtZT1cInBvc3Qtc3RhdHVzXCJdJykudmFsKCk7XG5cbiAgICAgICAgICAgIGlmICggcG9zdFN0YXR1cyAhPSAnYXV0by1kcmFmdCcgKSB7XG4gICAgICAgICAgICAgICAgYm9va2luZ0RldGFpbC5maW5kKCcubWJfY3JlYXRlX3RpY2tldCcpLmNzcygnZGlzcGxheScsICdmbGV4Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJvb2tpbmdEZXRhaWwuZmluZCgnLm1iX2NyZWF0ZV90aWNrZXQnKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBsb2FkaW5nID0gY3JlYXRlVGlja2V0LmZpbmQoJy5tYi1sb2FkaW5nJyk7XG4gICAgICAgICAgICB2YXIgbXNnICAgICA9IGNyZWF0ZVRpY2tldC5maW5kKCcubXNnJyk7XG4gICAgICAgICAgICBtc2cuaGlkZSgpO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgYW5kIFNlbmQgVGlja2V0c1xuICAgICAgICAgICAgY3JlYXRlVGlja2V0LmZpbmQoJy5jcmVhdGUtdGlja2V0Jykub24oICdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgbG9hZGluZy5zaG93KCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgYm9va2luZ0lEID0gJCh0aGlzKS5kYXRhKCdib29raW5nLWlkJyk7XG5cbiAgICAgICAgICAgICAgICAkLnBvc3QoIGFqYXhfb2JqZWN0LmFqYXhfdXJsLCB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ21iX2NyZWF0ZV9zZW5kX3RpY2tldHMnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhamF4X25vbmNlOiBhamF4X29iamVjdC5hamF4X25vbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9va2luZ0lEOiBib29raW5nSUQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZy5oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCByZXNwb25zZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBKU09OLnBhcnNlKCByZXNwb25zZSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHJlc3VsdC5zdGF0dXMgPT0gJ3N1Y2Nlc3MnICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZy5zaG93KCkuYWRkQ2xhc3MoJ21iLXN1Y2Nlc3MnKS5odG1sKHJlc3VsdC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCByZXN1bHQuc3RhdHVzID09ICdlcnJvcicgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnLnNob3coKS5hZGRDbGFzcygnbWItZXJyb3InKS5odG1sKHJlc3VsdC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbWJfdGlja2V0c19hY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCB0eXBlb2YgbWJfYWRtaW4gIT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRpY2tldFBvc3RUeXBlICA9ICQoJy5lZGl0LXBocC5wb3N0LXR5cGUtbWJfdGlja2V0Jyk7XG4gICAgICAgICAgICAgICAgdmFyIHRpdGxlRmlyc3QgICAgICA9IHRpY2tldFBvc3RUeXBlLmZpbmQoJy53cC1oZWFkaW5nLWlubGluZScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBtYl9hZG1pbi51cmxzLmV4cG9ydF90aWNrZXRzICYmIG1iX2FkbWluLnN0cmluZ3MuZXhwb3J0X3RpY2tldHMgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlRmlyc3QuYWZ0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGEgaHJlZj1cIicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgbWJfYWRtaW4udXJscy5leHBvcnRfdGlja2V0cyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXCIgY2xhc3M9XCJwYWdlLXRpdGxlLWFjdGlvblwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgbWJfYWRtaW4uc3RyaW5ncy5leHBvcnRfdGlja2V0cyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9hPidcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgbWJfYm9va2luZ3NfYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICggdHlwZW9mIG1iX2FkbWluICE9ICd1bmRlZmluZWQnICkge1xuICAgICAgICAgICAgICAgIHZhciBib29raW5nUG9zdFR5cGUgPSAkKCcuZWRpdC1waHAucG9zdC10eXBlLW1iX2Jvb2tpbmcnKTtcbiAgICAgICAgICAgICAgICB2YXIgdGl0bGVGaXJzdCAgICAgID0gYm9va2luZ1Bvc3RUeXBlLmZpbmQoJy5wYWdlLXRpdGxlLWFjdGlvbjpmaXJzdCcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBtYl9hZG1pbi51cmxzLmJvb2tpbmdfc3RhdGlzdGljcyAmJiBtYl9hZG1pbi5zdHJpbmdzLmJvb2tpbmdfc3RhdGlzdGljcyApIHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGVGaXJzdC5hZnRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICc8YSBocmVmPVwiJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBtYl9hZG1pbi51cmxzLmJvb2tpbmdfc3RhdGlzdGljcyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXCIgY2xhc3M9XCJwYWdlLXRpdGxlLWFjdGlvblwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgbWJfYWRtaW4uc3RyaW5ncy5ib29raW5nX3N0YXRpc3RpY3MgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzwvYT4nXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayB0b3RhbFxuICAgICAgICAgICAgJCgnLm1iLWJvb2tpbmctc3RhdGlzdGljcyAuYm9va2luZy1zdGF0aXN0aWNzIC5idXR0b24nKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIHZhciB0aGF0ID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5ib29raW5nLXN0YXRpc3RpY3MnKS5maW5kKCcubWItbG9hZGluZycpLnNob3coKTtcblxuICAgICAgICAgICAgICAgIHZhciBtb3ZpZUlEICAgICA9IHRoYXQuY2xvc2VzdCgnLmJvb2tpbmctc3RhdGlzdGljcycpLmZpbmQoJ3NlbGVjdFtuYW1lPVwibW92aWVfaWRcIl0nKS52YWwoKTtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdHVzICAgICAgPSB0aGF0LmNsb3Nlc3QoJy5ib29raW5nLXN0YXRpc3RpY3MnKS5maW5kKCdzZWxlY3RbbmFtZT1cImJvb2tpbmdfc3RhdHVzXCJdJykudmFsKCk7XG4gICAgICAgICAgICAgICAgdmFyIGZyb20gICAgICAgID0gdGhhdC5jbG9zZXN0KCcuYm9va2luZy1zdGF0aXN0aWNzJykuZmluZCgnaW5wdXRbbmFtZT1cImZyb21cIl0nKS52YWwoKTtcbiAgICAgICAgICAgICAgICB2YXIgdG8gICAgICAgICAgPSB0aGF0LmNsb3Nlc3QoJy5ib29raW5nLXN0YXRpc3RpY3MnKS5maW5kKCdpbnB1dFtuYW1lPVwidG9cIl0nKS52YWwoKTtcbiAgICAgICAgICAgICAgICB2YXIgY2l0eUlEICAgICAgPSB0aGF0LmNsb3Nlc3QoJy5ib29raW5nLXN0YXRpc3RpY3MnKS5maW5kKCdzZWxlY3RbbmFtZT1cImNpdHlfaWRcIl0nKS52YWwoKTtcbiAgICAgICAgICAgICAgICB2YXIgdmVudWVJRCAgICAgPSB0aGF0LmNsb3Nlc3QoJy5ib29raW5nLXN0YXRpc3RpY3MnKS5maW5kKCdzZWxlY3RbbmFtZT1cInZlbnVlX2lkXCJdJykudmFsKCk7XG4gICAgICAgICAgICAgICAgdmFyIHJvb21JRCAgICAgID0gdGhhdC5jbG9zZXN0KCcuYm9va2luZy1zdGF0aXN0aWNzJykuZmluZCgnc2VsZWN0W25hbWU9XCJyb29tX2lkXCJdJykudmFsKCk7XG5cbiAgICAgICAgICAgICAgICAkLnBvc3QoIGFqYXhfb2JqZWN0LmFqYXhfdXJsLCB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ21iX2Jvb2tpbmdfc3RhdGlzdGljcycsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFqYXhfbm9uY2U6IGFqYXhfb2JqZWN0LmFqYXhfbm9uY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZpZUlEOiBtb3ZpZUlELFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiBmcm9tLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG86IHRvLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2l0eUlEOiBjaXR5SUQsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZW51ZUlEOiB2ZW51ZUlELFxuICAgICAgICAgICAgICAgICAgICAgICAgcm9vbUlEOiByb29tSUQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCcuYm9va2luZy1zdGF0aXN0aWNzJykuZmluZCgnLm1iLWxvYWRpbmcnKS5oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCByZXNwb25zZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBKU09OLnBhcnNlKCByZXNwb25zZSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5ib29raW5nLXN0YXRpc3RpY3MnKS5maW5kKCcuc3VidG90YWwgLnByaWNlJykuaHRtbCggcmVzdWx0LnN1YnRvdGFsICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5ib29raW5nLXN0YXRpc3RpY3MnKS5maW5kKCcuZGlzY291bnQgLnByaWNlJykuaHRtbCggcmVzdWx0LmRpc2NvdW50ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5ib29raW5nLXN0YXRpc3RpY3MnKS5maW5kKCcudGF4IC5wcmljZScpLmh0bWwoIHJlc3VsdC50YXggKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnLmJvb2tpbmctc3RhdGlzdGljcycpLmZpbmQoJy50aWNrZXQtZmVlIC5wcmljZScpLmh0bWwoIHJlc3VsdC50aWNrZXRfZmVlICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5ib29raW5nLXN0YXRpc3RpY3MnKS5maW5kKCcudG90YWwgLnByaWNlJykuaHRtbCggcmVzdWx0LnRvdGFsICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qIFJlYWR5ICovXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIE1CX0FkbWluLmluaXQoKTtcbiAgICB9KTtcbn0pKGpRdWVyeSk7Il0sIm5hbWVzIjpbIiQiLCJNQl9BZG1pbiIsImluaXQiLCJ0aGlzIiwiYWRtaW5fc2V0dGluZ3NfdGFiIiwibWJfYWRkX3NlYXRfbWFwIiwibWJfc2VsZWN0MiIsIm1iX2NvbG9ycGlja2VyIiwibWJfZGF0ZXRpbWVwaWNrZXIiLCJtYl9jcmVhdGVfdGF4b25vbXlfcmVsb2FkIiwibWJfY2hhbmdlX2NpdHkiLCJtYl9jb3Vwb25zIiwibWJfdXBsb2FkX2ltYWdlIiwibWJfcmVtb3ZlX3VwbG9hZF9pbWFnZSIsIm1iX2NyZWF0ZV9ib29raW5nIiwibWJfc2hvd3RpbWVzX2ZpbHRlciIsIm1iX3Nob3d0aW1lc19hY3Rpb24iLCJtYl9jcmVhdGVfc2VuZF90aWNrZXRzIiwibWJfdGlja2V0c19hY3Rpb24iLCJtYl9ib29raW5nc19hY3Rpb24iLCJ1cmxQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInNlYXJjaCIsImZvcm1DaGFuZ2UiLCJ0eXBlVGF4RmVlIiwidGF4RmVlIiwiZG9jdW1lbnQiLCJmaW5kIiwiY2hlY2tvdXQiLCJ2YWwiLCJjbG9zZXN0Iiwic2hvdyIsInR5cGVUYXgiLCJoaWRlIiwibWFpbFRhYiIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwidGhhdCIsImVkaXRVcmwiLCJkYXRhIiwidGFiX2lkIiwic2V0IiwiZGVsZXRlIiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsInRvU3RyaW5nIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImZhZGVJbiIsImVhY2giLCJpIiwiaWQiLCJhdHRyIiwibmV4dFVybCIsInJlbW92ZV9zZWF0X21hcCIsInJlbW92ZSIsInNvcnRhYmxlX3NlYXRfbWFwIiwicmVtb3ZlX2FyZWFfbWFwIiwic29ydGFibGVfYXJlYV9tYXAiLCJyb29tQ29kZSIsInJvb21UeXBlIiwibWFwQ29kZSIsIml0ZW1TZWF0IiwiaXRlbUFyZWEiLCJsZW5ndGgiLCJjbGljayIsImNvdW50X3NlYXQiLCJwb3N0IiwiYWpheF9vYmplY3QiLCJhamF4X3VybCIsImFjdGlvbiIsImFqYXhfbm9uY2UiLCJyZXNwb25zZSIsImFwcGVuZCIsImNvdW50QXJlYSIsImNvdW50X2FyZWEiLCJwbGFjZWhvbGRlciIsInNlbGVjdDIiLCJhbGxvd0NsZWFyIiwid2lkdGgiLCJ3cENvbG9yUGlja2VyIiwiZmlyc3REYXkiLCJkYXRlRm9ybWF0IiwiY29uZmlnIiwibGFuZ3VhZ2UiLCJkYXRldGltZXBpY2tlciIsInNldExvY2FsZSIsInRpbWVGb3JtYXQiLCJ0aW1lU3RlcCIsInRpbWVEZWZhdWx0IiwidG9kYXkiLCJEYXRlIiwic2V0RGF0ZUZvcm1hdHRlciIsInBhcnNlRGF0ZSIsImRhdGUiLCJmb3JtYXQiLCJkIiwibW9tZW50IiwiaXNWYWxpZCIsInRvRGF0ZSIsImZvcm1hdERhdGUiLCJkYXRlUGlja2VyT3B0aW9ucyIsImRheU9mV2Vla1N0YXJ0IiwibWluRGF0ZSIsImZvcm1hdFRpbWUiLCJkZWZhdWx0VGltZSIsInN0ZXAiLCJ0aW1lcGlja2VyIiwic2Nyb2xsTW9udGgiLCJzY3JvbGxJbnB1dCIsImZyb20iLCJ0byIsInNldFRpbWVvdXQiLCJyZWxvYWQiLCJjaXR5X2lkIiwiY3NzIiwiaHRtbCIsImNvdXBvbl90eXBlIiwiaGFzIiwic29ydGFibGVfY291cG9uIiwiY291bnRfY291cG9uIiwiZmlsZV9mcmFtZSIsImNsb3NlIiwid3AiLCJtZWRpYSIsImZyYW1lcyIsIm11bHRpcGxlIiwic3RhdGUiLCJnZXQiLCJtYXAiLCJhdHRhY2htZW50IiwidG9KU09OIiwic2l6ZXMiLCJ0aHVtYm5haWwiLCJ1cmwiLCJhbHQiLCJvcGVuIiwiY29uZmlybSIsInVwZGF0ZUNhcnRJbmZvIiwiYm9va2luZ0RldGFpbCIsImNhcnRJbmZvIiwiY2FydERpc2NvdW50IiwiY2FydFRvdGFsIiwidXBkYXRlQ2FydCIsImNhcnREZXRhaWwiLCJ0b3RhbFNlYXQiLCJ0b3RhbEFyZWEiLCJ0b3RhbFF0eSIsInNlYXRzIiwicHVzaCIsInNlYXRQcmljZSIsInByaWNlSW5jbFRheCIsInBhcnNlRmxvYXQiLCJhcmVhcyIsImFyZWFQcmljZSIsImFyZWFRdHkiLCJwYXJzZUludCIsInRvdGFsIiwidG90YWxEaXNjb3VudCIsImRpc2NvdW50VmFsdWUiLCJkaXNjb3VudFR5cGUiLCJ0YXhUeXBlIiwidGlja2V0RmVlIiwidGlja2V0RmVlVHlwZSIsInRvdGFsVGF4IiwidG90YWxUaWNrZXRGZWUiLCJjdXJyZW5jeVNldHRpbmdzIiwiY3VycmVuY3kiLCJkZWNpbWFsX3NlcGFyYXRvciIsInRob3VzYW5kX3NlcGFyYXRvciIsIm51bWJlcl9kZWNpbWFscyIsInRvRml4ZWQiLCJyZXBsYWNlIiwiY3VycmVuY3lfcG9zaXRpb24iLCJwcmljZSIsIm5ldF9wcmljZSIsInRheEluY2wiLCJyZWd1bGFyX3RheF9yYXRlIiwibW92aWVJRCIsInJvb20iLCJzdGF0dXMiLCJlcnJvciIsIm5vdCIsIm1lc2ciLCJsb2FkaW5nIiwibW92aWVfaWQiLCJyZXN1bHQiLCJKU09OIiwicGFyc2UiLCJodG1sX3Nob3d0aW1lIiwic2hvd3RpbWVJRCIsImh0bWxfcm9vbSIsImh0bWxfc2VhdCIsImh0bWxfYXJlYSIsInNob3d0aW1lX2lkIiwicm9vbUlEIiwicm9vbV9pZCIsInByaWNlcyIsInNlYXRIVE1MIiwiYXJlYUhUTUwiLCJjdXJyZW50UXR5IiwiY29uc29sZSIsImxvZyIsImlzRW1wdHlPYmplY3QiLCJhcmVhSUQiLCJkaXNjb3VudF9jb2RlIiwiZm9jdXMiLCJkaXNjb3VudENvZGUiLCJ0eXBlRGlzY291bnQiLCJjb2RlRGlzY291bnQiLCJ0eXBlIiwidmFsdWVEaXNjb3VudCIsInZhbHVlIiwiY29kZSIsImhhc0NsYXNzIiwiY3VycmVudElEIiwibmV3UXR5IiwicHJvcCIsInRleHQiLCJ2ZW51ZXMiLCJ0aXRsZUZpcnN0IiwibWJfYWRtaW4iLCJ1cmxzIiwiZXhwb3J0X3Nob3d0aW1lcyIsInN0cmluZ3MiLCJhZnRlciIsImltcG9ydF9zaG93dGltZXMiLCJjcmVhdGVUaWNrZXQiLCJtc2ciLCJib29raW5nSUQiLCJtZXNzYWdlIiwiZXhwb3J0X3RpY2tldHMiLCJib29raW5nX3N0YXRpc3RpY3MiLCJjaXR5SUQiLCJ2ZW51ZUlEIiwic3VidG90YWwiLCJkaXNjb3VudCIsInRheCIsInRpY2tldF9mZWUiLCJyZWFkeSIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBVUEsZ0JBR04sSUFBSUMsRUFBVyxDQUNYQyxLQUFNLFdBRUZDLEtBQUtDLHFCQUdMRCxLQUFLRSxrQkFHTEYsS0FBS0csYUFHTEgsS0FBS0ksaUJBR0xKLEtBQUtLLG9CQUdMTCxLQUFLTSw0QkFHTE4sS0FBS08saUJBR0xQLEtBQUtRLGFBR0xSLEtBQUtTLGtCQUNMVCxLQUFLVSx5QkFHTFYsS0FBS1csb0JBR0xYLEtBQUtZLHNCQUdMWixLQUFLYSxzQkFHTGIsS0FBS2MseUJBR0xkLEtBQUtlLG9CQUdMZixLQUFLZ0Isc0JBR1RmLG1CQUFvQixXQUNoQixJQUFJZ0IsRUFBWSxJQUFJQyxnQkFBaUJDLE9BQU9DLFNBQVNDLFFB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